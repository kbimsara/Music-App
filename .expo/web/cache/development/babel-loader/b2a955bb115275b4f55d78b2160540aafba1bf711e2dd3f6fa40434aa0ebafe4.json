{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport { ListCollection as $a02d57049d202695$export$d085fb9e920b5ca7 } from \"./ListCollection.mjs\";\nimport { useMultipleSelectionState as $d5vlZ$useMultipleSelectionState, SelectionManager as $d5vlZ$SelectionManager } from \"@react-stately/selection\";\nimport { useMemo as $d5vlZ$useMemo, useCallback as $d5vlZ$useCallback, useRef as $d5vlZ$useRef, useEffect as $d5vlZ$useEffect } from \"react\";\nimport { useCollection as $d5vlZ$useCollection } from \"@react-stately/collections\";\nfunction $e72dd72e1c76a225$export$2f645645f7bca764(props) {\n  var filter = props.filter;\n  var selectionState = (0, $d5vlZ$useMultipleSelectionState)(props);\n  var disabledKeys = (0, $d5vlZ$useMemo)(function () {\n    return props.disabledKeys ? new Set(props.disabledKeys) : new Set();\n  }, [props.disabledKeys]);\n  var factory = (0, $d5vlZ$useCallback)(function (nodes) {\n    return filter ? new (0, $a02d57049d202695$export$d085fb9e920b5ca7)(filter(nodes)) : new (0, $a02d57049d202695$export$d085fb9e920b5ca7)(nodes);\n  }, [filter]);\n  var context = (0, $d5vlZ$useMemo)(function () {\n    return {\n      suppressTextValueWarning: props.suppressTextValueWarning\n    };\n  }, [props.suppressTextValueWarning]);\n  var collection = (0, $d5vlZ$useCollection)(props, factory, context);\n  var selectionManager = (0, $d5vlZ$useMemo)(function () {\n    return new (0, $d5vlZ$SelectionManager)(collection, selectionState);\n  }, [collection, selectionState]);\n  var cachedCollection = (0, $d5vlZ$useRef)(null);\n  (0, $d5vlZ$useEffect)(function () {\n    if (selectionState.focusedKey != null && !collection.getItem(selectionState.focusedKey)) {\n      var startItem = cachedCollection.current.getItem(selectionState.focusedKey);\n      var cachedItemNodes = _toConsumableArray(cachedCollection.current.getKeys()).map(function (key) {\n        var itemNode = cachedCollection.current.getItem(key);\n        return itemNode.type === \"item\" ? itemNode : null;\n      }).filter(function (node) {\n        return node !== null;\n      });\n      var itemNodes = _toConsumableArray(collection.getKeys()).map(function (key) {\n        var itemNode = collection.getItem(key);\n        return itemNode.type === \"item\" ? itemNode : null;\n      }).filter(function (node) {\n        return node !== null;\n      });\n      var diff = cachedItemNodes.length - itemNodes.length;\n      var index = Math.min(diff > 1 ? Math.max(startItem.index - diff + 1, 0) : startItem.index, itemNodes.length - 1);\n      var newNode;\n      while (index >= 0) {\n        if (!selectionManager.isDisabled(itemNodes[index].key)) {\n          newNode = itemNodes[index];\n          break;\n        }\n        if (index < itemNodes.length - 1) index++;else {\n          if (index > startItem.index) index = startItem.index;\n          index--;\n        }\n      }\n      selectionState.setFocusedKey(newNode ? newNode.key : null);\n    }\n    cachedCollection.current = collection;\n  }, [collection, selectionManager, selectionState, selectionState.focusedKey]);\n  return {\n    collection: collection,\n    disabledKeys: disabledKeys,\n    selectionManager: selectionManager\n  };\n}\nexport { $e72dd72e1c76a225$export$2f645645f7bca764 as useListState };","map":{"version":3,"names":["ListCollection","$a02d57049d202695$export$d085fb9e920b5ca7","useMultipleSelectionState","$d5vlZ$useMultipleSelectionState","SelectionManager","$d5vlZ$SelectionManager","useMemo","$d5vlZ$useMemo","useCallback","$d5vlZ$useCallback","useRef","$d5vlZ$useRef","useEffect","$d5vlZ$useEffect","useCollection","$d5vlZ$useCollection","$e72dd72e1c76a225$export$2f645645f7bca764","props","filter","selectionState","disabledKeys","Set","factory","nodes","context","suppressTextValueWarning","collection","selectionManager","cachedCollection","focusedKey","getItem","startItem","current","cachedItemNodes","_toConsumableArray","getKeys","map","key","itemNode","type","node","itemNodes","diff","length","index","Math","min","max","newNode","isDisabled","setFocusedKey","useListState"],"sources":["D:/React Native/Expo+glustack/Music-App/node_modules/@react-stately/list/dist/useListState.mjs"],"sourcesContent":["import {ListCollection as $a02d57049d202695$export$d085fb9e920b5ca7} from \"./ListCollection.mjs\";\nimport {useMultipleSelectionState as $d5vlZ$useMultipleSelectionState, SelectionManager as $d5vlZ$SelectionManager} from \"@react-stately/selection\";\nimport {useMemo as $d5vlZ$useMemo, useCallback as $d5vlZ$useCallback, useRef as $d5vlZ$useRef, useEffect as $d5vlZ$useEffect} from \"react\";\nimport {useCollection as $d5vlZ$useCollection} from \"@react-stately/collections\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \n\n\n\nfunction $e72dd72e1c76a225$export$2f645645f7bca764(props) {\n    let { filter: filter } = props;\n    let selectionState = (0, $d5vlZ$useMultipleSelectionState)(props);\n    let disabledKeys = (0, $d5vlZ$useMemo)(()=>props.disabledKeys ? new Set(props.disabledKeys) : new Set(), [\n        props.disabledKeys\n    ]);\n    let factory = (0, $d5vlZ$useCallback)((nodes)=>filter ? new (0, $a02d57049d202695$export$d085fb9e920b5ca7)(filter(nodes)) : new (0, $a02d57049d202695$export$d085fb9e920b5ca7)(nodes), [\n        filter\n    ]);\n    let context = (0, $d5vlZ$useMemo)(()=>({\n            suppressTextValueWarning: props.suppressTextValueWarning\n        }), [\n        props.suppressTextValueWarning\n    ]);\n    let collection = (0, $d5vlZ$useCollection)(props, factory, context);\n    let selectionManager = (0, $d5vlZ$useMemo)(()=>new (0, $d5vlZ$SelectionManager)(collection, selectionState), [\n        collection,\n        selectionState\n    ]);\n    // Reset focused key if that item is deleted from the collection.\n    const cachedCollection = (0, $d5vlZ$useRef)(null);\n    (0, $d5vlZ$useEffect)(()=>{\n        if (selectionState.focusedKey != null && !collection.getItem(selectionState.focusedKey)) {\n            const startItem = cachedCollection.current.getItem(selectionState.focusedKey);\n            const cachedItemNodes = [\n                ...cachedCollection.current.getKeys()\n            ].map((key)=>{\n                const itemNode = cachedCollection.current.getItem(key);\n                return itemNode.type === \"item\" ? itemNode : null;\n            }).filter((node)=>node !== null);\n            const itemNodes = [\n                ...collection.getKeys()\n            ].map((key)=>{\n                const itemNode = collection.getItem(key);\n                return itemNode.type === \"item\" ? itemNode : null;\n            }).filter((node)=>node !== null);\n            const diff = cachedItemNodes.length - itemNodes.length;\n            let index = Math.min(diff > 1 ? Math.max(startItem.index - diff + 1, 0) : startItem.index, itemNodes.length - 1);\n            let newNode;\n            while(index >= 0){\n                if (!selectionManager.isDisabled(itemNodes[index].key)) {\n                    newNode = itemNodes[index];\n                    break;\n                }\n                // Find next, not disabled item.\n                if (index < itemNodes.length - 1) index++;\n                else {\n                    if (index > startItem.index) index = startItem.index;\n                    index--;\n                }\n            }\n            selectionState.setFocusedKey(newNode ? newNode.key : null);\n        }\n        cachedCollection.current = collection;\n    }, [\n        collection,\n        selectionManager,\n        selectionState,\n        selectionState.focusedKey\n    ]);\n    return {\n        collection: collection,\n        disabledKeys: disabledKeys,\n        selectionManager: selectionManager\n    };\n}\n\n\nexport {$e72dd72e1c76a225$export$2f645645f7bca764 as useListState};\n//# sourceMappingURL=useListState.mjs.map\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}