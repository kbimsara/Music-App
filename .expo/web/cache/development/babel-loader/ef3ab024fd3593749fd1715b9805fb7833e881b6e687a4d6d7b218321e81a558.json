{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState as $lyPoT$useState, useRef as $lyPoT$useRef, useCallback as $lyPoT$useCallback } from \"react\";\nfunction $e672e8bc247525d1$export$926850f6ecef79d0(props) {\n  var _props$acceptedDragTy = props.acceptedDragTypes,\n    acceptedDragTypes = _props$acceptedDragTy === void 0 ? \"all\" : _props$acceptedDragTy,\n    isDisabled = props.isDisabled,\n    onInsert = props.onInsert,\n    onRootDrop = props.onRootDrop,\n    onItemDrop = props.onItemDrop,\n    onReorder = props.onReorder,\n    shouldAcceptItemDrop = props.shouldAcceptItemDrop,\n    collection = props.collection,\n    selectionManager = props.selectionManager,\n    onDropEnter = props.onDropEnter,\n    getDropOperation = props.getDropOperation,\n    onDrop = props.onDrop;\n  var _ref = (0, $lyPoT$useState)(null),\n    _ref2 = _slicedToArray(_ref, 2),\n    target = _ref2[0],\n    _setTarget = _ref2[1];\n  var targetRef = (0, $lyPoT$useRef)(null);\n  var getOppositeTarget = function getOppositeTarget(target) {\n    if (target.dropPosition === \"before\") {\n      var key = collection.getKeyBefore(target.key);\n      return key != null ? {\n        type: \"item\",\n        key: key,\n        dropPosition: \"after\"\n      } : null;\n    } else if (target.dropPosition === \"after\") {\n      var _key = collection.getKeyAfter(target.key);\n      return _key != null ? {\n        type: \"item\",\n        key: _key,\n        dropPosition: \"before\"\n      } : null;\n    }\n  };\n  var defaultGetDropOperation = (0, $lyPoT$useCallback)(function (e) {\n    if (isDisabled) return \"cancel\";\n    var target = e.target,\n      types = e.types,\n      allowedOperations = e.allowedOperations,\n      isInternal = e.isInternal,\n      draggingKeys = e.draggingKeys;\n    if (acceptedDragTypes === \"all\" || acceptedDragTypes.some(function (type) {\n      return types.has(type);\n    })) {\n      var isValidInsert = onInsert && target.type === \"item\" && !isInternal && (target.dropPosition === \"before\" || target.dropPosition === \"after\");\n      var isValidReorder = onReorder && target.type === \"item\" && isInternal && (target.dropPosition === \"before\" || target.dropPosition === \"after\");\n      var isValidRootDrop = onRootDrop && target.type === \"root\" && !isInternal;\n      var isValidOnItemDrop = onItemDrop && target.type === \"item\" && target.dropPosition === \"on\" && !(isInternal && draggingKeys.has(target.key)) && (!shouldAcceptItemDrop || shouldAcceptItemDrop(target, types));\n      if (onDrop || isValidInsert || isValidReorder || isValidRootDrop || isValidOnItemDrop) {\n        if (getDropOperation) return getDropOperation(target, types, allowedOperations);else return allowedOperations[0];\n      }\n    }\n    return \"cancel\";\n  }, [isDisabled, acceptedDragTypes, getDropOperation, onInsert, onRootDrop, onItemDrop, shouldAcceptItemDrop, onReorder, onDrop]);\n  return {\n    collection: collection,\n    selectionManager: selectionManager,\n    isDisabled: isDisabled,\n    target: target,\n    setTarget: function setTarget(newTarget) {\n      if (this.isDropTarget(newTarget)) return;\n      var target = targetRef.current;\n      if (target && typeof props.onDropExit === \"function\") props.onDropExit({\n        type: \"dropexit\",\n        x: 0,\n        y: 0,\n        target: target\n      });\n      if (newTarget && typeof onDropEnter === \"function\") onDropEnter({\n        type: \"dropenter\",\n        x: 0,\n        y: 0,\n        target: newTarget\n      });\n      targetRef.current = newTarget;\n      _setTarget(newTarget);\n    },\n    isDropTarget: function isDropTarget(dropTarget) {\n      var target = targetRef.current;\n      if ($e672e8bc247525d1$var$isEqualDropTarget(dropTarget, target)) return true;\n      if ((dropTarget === null || dropTarget === void 0 ? void 0 : dropTarget.type) === \"item\" && (target === null || target === void 0 ? void 0 : target.type) === \"item\" && dropTarget.key !== target.key && dropTarget.dropPosition !== target.dropPosition && dropTarget.dropPosition !== \"on\" && target.dropPosition !== \"on\") return $e672e8bc247525d1$var$isEqualDropTarget(getOppositeTarget(dropTarget), target) || $e672e8bc247525d1$var$isEqualDropTarget(dropTarget, getOppositeTarget(target));\n      return false;\n    },\n    getDropOperation: function getDropOperation(e) {\n      return defaultGetDropOperation(e);\n    }\n  };\n}\nfunction $e672e8bc247525d1$var$isEqualDropTarget(a, b) {\n  if (!a) return !b;\n  switch (a.type) {\n    case \"root\":\n      return (b === null || b === void 0 ? void 0 : b.type) === \"root\";\n    case \"item\":\n      return (b === null || b === void 0 ? void 0 : b.type) === \"item\" && (b === null || b === void 0 ? void 0 : b.key) === a.key && (b === null || b === void 0 ? void 0 : b.dropPosition) === a.dropPosition;\n  }\n}\nexport { $e672e8bc247525d1$export$926850f6ecef79d0 as useDroppableCollectionState };","map":{"version":3,"names":["useState","$lyPoT$useState","useRef","$lyPoT$useRef","useCallback","$lyPoT$useCallback","$e672e8bc247525d1$export$926850f6ecef79d0","props","_props$acceptedDragTy","acceptedDragTypes","isDisabled","onInsert","onRootDrop","onItemDrop","onReorder","shouldAcceptItemDrop","collection","selectionManager","onDropEnter","getDropOperation","onDrop","_ref","_ref2","_slicedToArray","target","setTarget","targetRef","getOppositeTarget","dropPosition","key","getKeyBefore","type","getKeyAfter","defaultGetDropOperation","e","types","allowedOperations","isInternal","draggingKeys","some","has","isValidInsert","isValidReorder","isValidRootDrop","isValidOnItemDrop","newTarget","isDropTarget","current","onDropExit","x","y","dropTarget","$e672e8bc247525d1$var$isEqualDropTarget","a","b","useDroppableCollectionState"],"sources":["D:/React Native/Expo+glustack/Music-App/node_modules/@react-stately/dnd/dist/useDroppableCollectionState.mjs"],"sourcesContent":["import {useState as $lyPoT$useState, useRef as $lyPoT$useRef, useCallback as $lyPoT$useCallback} from \"react\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \nfunction $e672e8bc247525d1$export$926850f6ecef79d0(props) {\n    let { acceptedDragTypes: acceptedDragTypes = \"all\", isDisabled: isDisabled, onInsert: onInsert, onRootDrop: onRootDrop, onItemDrop: onItemDrop, onReorder: onReorder, shouldAcceptItemDrop: shouldAcceptItemDrop, collection: collection, selectionManager: selectionManager, onDropEnter: onDropEnter, getDropOperation: getDropOperation, onDrop: onDrop } = props;\n    let [target, setTarget] = (0, $lyPoT$useState)(null);\n    let targetRef = (0, $lyPoT$useRef)(null);\n    let getOppositeTarget = (target)=>{\n        if (target.dropPosition === \"before\") {\n            let key = collection.getKeyBefore(target.key);\n            return key != null ? {\n                type: \"item\",\n                key: key,\n                dropPosition: \"after\"\n            } : null;\n        } else if (target.dropPosition === \"after\") {\n            let key = collection.getKeyAfter(target.key);\n            return key != null ? {\n                type: \"item\",\n                key: key,\n                dropPosition: \"before\"\n            } : null;\n        }\n    };\n    let defaultGetDropOperation = (0, $lyPoT$useCallback)((e)=>{\n        if (isDisabled) return \"cancel\";\n        let { target: target, types: types, allowedOperations: allowedOperations, isInternal: isInternal, draggingKeys: draggingKeys } = e;\n        if (acceptedDragTypes === \"all\" || acceptedDragTypes.some((type)=>types.has(type))) {\n            let isValidInsert = onInsert && target.type === \"item\" && !isInternal && (target.dropPosition === \"before\" || target.dropPosition === \"after\");\n            let isValidReorder = onReorder && target.type === \"item\" && isInternal && (target.dropPosition === \"before\" || target.dropPosition === \"after\");\n            // Feedback was that internal root drop was weird so preventing that from happening\n            let isValidRootDrop = onRootDrop && target.type === \"root\" && !isInternal;\n            // Automatically prevent items (i.e. folders) from being dropped on themselves.\n            let isValidOnItemDrop = onItemDrop && target.type === \"item\" && target.dropPosition === \"on\" && !(isInternal && draggingKeys.has(target.key)) && (!shouldAcceptItemDrop || shouldAcceptItemDrop(target, types));\n            if (onDrop || isValidInsert || isValidReorder || isValidRootDrop || isValidOnItemDrop) {\n                if (getDropOperation) return getDropOperation(target, types, allowedOperations);\n                else return allowedOperations[0];\n            }\n        }\n        return \"cancel\";\n    }, [\n        isDisabled,\n        acceptedDragTypes,\n        getDropOperation,\n        onInsert,\n        onRootDrop,\n        onItemDrop,\n        shouldAcceptItemDrop,\n        onReorder,\n        onDrop\n    ]);\n    return {\n        collection: collection,\n        selectionManager: selectionManager,\n        isDisabled: isDisabled,\n        target: target,\n        setTarget (newTarget) {\n            if (this.isDropTarget(newTarget)) return;\n            let target = targetRef.current;\n            if (target && typeof props.onDropExit === \"function\") props.onDropExit({\n                type: \"dropexit\",\n                x: 0,\n                y: 0,\n                target: target\n            });\n            if (newTarget && typeof onDropEnter === \"function\") onDropEnter({\n                type: \"dropenter\",\n                x: 0,\n                y: 0,\n                target: newTarget\n            });\n            targetRef.current = newTarget;\n            setTarget(newTarget);\n        },\n        isDropTarget (dropTarget) {\n            let target = targetRef.current;\n            if ($e672e8bc247525d1$var$isEqualDropTarget(dropTarget, target)) return true;\n            // Check if the targets point at the same point between two items, one referring before, and the other after.\n            if ((dropTarget === null || dropTarget === void 0 ? void 0 : dropTarget.type) === \"item\" && (target === null || target === void 0 ? void 0 : target.type) === \"item\" && dropTarget.key !== target.key && dropTarget.dropPosition !== target.dropPosition && dropTarget.dropPosition !== \"on\" && target.dropPosition !== \"on\") return $e672e8bc247525d1$var$isEqualDropTarget(getOppositeTarget(dropTarget), target) || $e672e8bc247525d1$var$isEqualDropTarget(dropTarget, getOppositeTarget(target));\n            return false;\n        },\n        getDropOperation (e) {\n            return defaultGetDropOperation(e);\n        }\n    };\n}\nfunction $e672e8bc247525d1$var$isEqualDropTarget(a, b) {\n    if (!a) return !b;\n    switch(a.type){\n        case \"root\":\n            return (b === null || b === void 0 ? void 0 : b.type) === \"root\";\n        case \"item\":\n            return (b === null || b === void 0 ? void 0 : b.type) === \"item\" && (b === null || b === void 0 ? void 0 : b.key) === a.key && (b === null || b === void 0 ? void 0 : b.dropPosition) === a.dropPosition;\n    }\n}\n\n\nexport {$e672e8bc247525d1$export$926850f6ecef79d0 as useDroppableCollectionState};\n//# sourceMappingURL=useDroppableCollectionState.mjs.map\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}