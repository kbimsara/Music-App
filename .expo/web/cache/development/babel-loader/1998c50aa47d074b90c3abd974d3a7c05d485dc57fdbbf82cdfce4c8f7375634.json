{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { isCtrlKeyPressed as $feb5ffebff200149$export$16792effe837dba3, isNonContiguousSelectionModifier as $feb5ffebff200149$export$d3e3bd3e26688c04 } from \"./utils.mjs\";\nimport { useTypeSelect as $fb3050f43d946246$export$e32c88dfddc6e1d8 } from \"./useTypeSelect.mjs\";\nimport { flushSync as $3H3GQ$flushSync } from \"react-dom\";\nimport { useRef as $3H3GQ$useRef, useEffect as $3H3GQ$useEffect } from \"react\";\nimport { getFocusableTreeWalker as $3H3GQ$getFocusableTreeWalker, focusSafely as $3H3GQ$focusSafely } from \"@react-aria/focus\";\nimport { useRouter as $3H3GQ$useRouter, focusWithoutScrolling as $3H3GQ$focusWithoutScrolling, useEvent as $3H3GQ$useEvent, scrollIntoViewport as $3H3GQ$scrollIntoViewport, scrollIntoView as $3H3GQ$scrollIntoView, mergeProps as $3H3GQ$mergeProps } from \"@react-aria/utils\";\nimport { getInteractionModality as $3H3GQ$getInteractionModality } from \"@react-aria/interactions\";\nimport { useLocale as $3H3GQ$useLocale } from \"@react-aria/i18n\";\nfunction $ae20dd8cbca75726$export$d6daf82dcd84e87c(options) {\n  var manager = options.selectionManager,\n    delegate = options.keyboardDelegate,\n    ref = options.ref,\n    _options$autoFocus = options.autoFocus,\n    autoFocus = _options$autoFocus === void 0 ? false : _options$autoFocus,\n    _options$shouldFocusW = options.shouldFocusWrap,\n    shouldFocusWrap = _options$shouldFocusW === void 0 ? false : _options$shouldFocusW,\n    _options$disallowEmpt = options.disallowEmptySelection,\n    disallowEmptySelection = _options$disallowEmpt === void 0 ? false : _options$disallowEmpt,\n    _options$disallowSele = options.disallowSelectAll,\n    disallowSelectAll = _options$disallowSele === void 0 ? false : _options$disallowSele,\n    _options$selectOnFocu = options.selectOnFocus,\n    selectOnFocus = _options$selectOnFocu === void 0 ? manager.selectionBehavior === \"replace\" : _options$selectOnFocu,\n    _options$disallowType = options.disallowTypeAhead,\n    disallowTypeAhead = _options$disallowType === void 0 ? false : _options$disallowType,\n    shouldUseVirtualFocus = options.shouldUseVirtualFocus,\n    _options$allowsTabNav = options.allowsTabNavigation,\n    allowsTabNavigation = _options$allowsTabNav === void 0 ? false : _options$allowsTabNav,\n    isVirtualized = options.isVirtualized,\n    _options$scrollRef = options.scrollRef,\n    scrollRef = _options$scrollRef === void 0 ? ref : _options$scrollRef,\n    _options$linkBehavior = options.linkBehavior,\n    linkBehavior = _options$linkBehavior === void 0 ? \"action\" : _options$linkBehavior;\n  var _ref = (0, $3H3GQ$useLocale)(),\n    direction = _ref.direction;\n  var router = (0, $3H3GQ$useRouter)();\n  var onKeyDown = function onKeyDown(e) {\n    if (e.altKey && e.key === \"Tab\") e.preventDefault();\n    if (!ref.current.contains(e.target)) return;\n    var navigateToKey = function navigateToKey(key, childFocus) {\n      if (key != null) {\n        if (manager.isLink(key) && linkBehavior === \"selection\" && selectOnFocus && !(0, $feb5ffebff200149$export$d3e3bd3e26688c04)(e)) {\n          (0, $3H3GQ$flushSync)(function () {\n            manager.setFocusedKey(key, childFocus);\n          });\n          var item = scrollRef.current.querySelector(`[data-key=\"${CSS.escape(key.toString())}\"]`);\n          var itemProps = manager.getItemProps(key);\n          router.open(item, e, itemProps.href, itemProps.routerOptions);\n          return;\n        }\n        manager.setFocusedKey(key, childFocus);\n        if (manager.isLink(key) && linkBehavior === \"override\") return;\n        if (e.shiftKey && manager.selectionMode === \"multiple\") manager.extendSelection(key);else if (selectOnFocus && !(0, $feb5ffebff200149$export$d3e3bd3e26688c04)(e)) manager.replaceSelection(key);\n      }\n    };\n    switch (e.key) {\n      case \"ArrowDown\":\n        if (delegate.getKeyBelow) {\n          var _delegate_getFirstKey, _delegate_getFirstKey1;\n          e.preventDefault();\n          var nextKey = manager.focusedKey != null ? delegate.getKeyBelow(manager.focusedKey) : (_delegate_getFirstKey = delegate.getFirstKey) === null || _delegate_getFirstKey === void 0 ? void 0 : _delegate_getFirstKey.call(delegate);\n          if (nextKey == null && shouldFocusWrap) nextKey = (_delegate_getFirstKey1 = delegate.getFirstKey) === null || _delegate_getFirstKey1 === void 0 ? void 0 : _delegate_getFirstKey1.call(delegate, manager.focusedKey);\n          navigateToKey(nextKey);\n        }\n        break;\n      case \"ArrowUp\":\n        if (delegate.getKeyAbove) {\n          var _delegate_getLastKey, _delegate_getLastKey1;\n          e.preventDefault();\n          var _nextKey = manager.focusedKey != null ? delegate.getKeyAbove(manager.focusedKey) : (_delegate_getLastKey = delegate.getLastKey) === null || _delegate_getLastKey === void 0 ? void 0 : _delegate_getLastKey.call(delegate);\n          if (_nextKey == null && shouldFocusWrap) _nextKey = (_delegate_getLastKey1 = delegate.getLastKey) === null || _delegate_getLastKey1 === void 0 ? void 0 : _delegate_getLastKey1.call(delegate, manager.focusedKey);\n          navigateToKey(_nextKey);\n        }\n        break;\n      case \"ArrowLeft\":\n        if (delegate.getKeyLeftOf) {\n          var _delegate_getFirstKey2, _delegate_getLastKey2;\n          e.preventDefault();\n          var _nextKey2 = delegate.getKeyLeftOf(manager.focusedKey);\n          if (_nextKey2 == null && shouldFocusWrap) _nextKey2 = direction === \"rtl\" ? (_delegate_getFirstKey2 = delegate.getFirstKey) === null || _delegate_getFirstKey2 === void 0 ? void 0 : _delegate_getFirstKey2.call(delegate, manager.focusedKey) : (_delegate_getLastKey2 = delegate.getLastKey) === null || _delegate_getLastKey2 === void 0 ? void 0 : _delegate_getLastKey2.call(delegate, manager.focusedKey);\n          navigateToKey(_nextKey2, direction === \"rtl\" ? \"first\" : \"last\");\n        }\n        break;\n      case \"ArrowRight\":\n        if (delegate.getKeyRightOf) {\n          var _delegate_getLastKey3, _delegate_getFirstKey3;\n          e.preventDefault();\n          var _nextKey3 = delegate.getKeyRightOf(manager.focusedKey);\n          if (_nextKey3 == null && shouldFocusWrap) _nextKey3 = direction === \"rtl\" ? (_delegate_getLastKey3 = delegate.getLastKey) === null || _delegate_getLastKey3 === void 0 ? void 0 : _delegate_getLastKey3.call(delegate, manager.focusedKey) : (_delegate_getFirstKey3 = delegate.getFirstKey) === null || _delegate_getFirstKey3 === void 0 ? void 0 : _delegate_getFirstKey3.call(delegate, manager.focusedKey);\n          navigateToKey(_nextKey3, direction === \"rtl\" ? \"last\" : \"first\");\n        }\n        break;\n      case \"Home\":\n        if (delegate.getFirstKey) {\n          e.preventDefault();\n          var firstKey = delegate.getFirstKey(manager.focusedKey, (0, $feb5ffebff200149$export$16792effe837dba3)(e));\n          manager.setFocusedKey(firstKey);\n          if ((0, $feb5ffebff200149$export$16792effe837dba3)(e) && e.shiftKey && manager.selectionMode === \"multiple\") manager.extendSelection(firstKey);else if (selectOnFocus) manager.replaceSelection(firstKey);\n        }\n        break;\n      case \"End\":\n        if (delegate.getLastKey) {\n          e.preventDefault();\n          var lastKey = delegate.getLastKey(manager.focusedKey, (0, $feb5ffebff200149$export$16792effe837dba3)(e));\n          manager.setFocusedKey(lastKey);\n          if ((0, $feb5ffebff200149$export$16792effe837dba3)(e) && e.shiftKey && manager.selectionMode === \"multiple\") manager.extendSelection(lastKey);else if (selectOnFocus) manager.replaceSelection(lastKey);\n        }\n        break;\n      case \"PageDown\":\n        if (delegate.getKeyPageBelow) {\n          e.preventDefault();\n          var _nextKey4 = delegate.getKeyPageBelow(manager.focusedKey);\n          navigateToKey(_nextKey4);\n        }\n        break;\n      case \"PageUp\":\n        if (delegate.getKeyPageAbove) {\n          e.preventDefault();\n          var _nextKey5 = delegate.getKeyPageAbove(manager.focusedKey);\n          navigateToKey(_nextKey5);\n        }\n        break;\n      case \"a\":\n        if ((0, $feb5ffebff200149$export$16792effe837dba3)(e) && manager.selectionMode === \"multiple\" && disallowSelectAll !== true) {\n          e.preventDefault();\n          manager.selectAll();\n        }\n        break;\n      case \"Escape\":\n        if (!disallowEmptySelection && manager.selectedKeys.size !== 0) {\n          e.stopPropagation();\n          e.preventDefault();\n          manager.clearSelection();\n        }\n        break;\n      case \"Tab\":\n        if (!allowsTabNavigation) {\n          if (e.shiftKey) ref.current.focus();else {\n            var walker = (0, $3H3GQ$getFocusableTreeWalker)(ref.current, {\n              tabbable: true\n            });\n            var next;\n            var last;\n            do {\n              last = walker.lastChild();\n              if (last) next = last;\n            } while (last);\n            if (next && !next.contains(document.activeElement)) (0, $3H3GQ$focusWithoutScrolling)(next);\n          }\n          break;\n        }\n    }\n  };\n  var scrollPos = (0, $3H3GQ$useRef)({\n    top: 0,\n    left: 0\n  });\n  (0, $3H3GQ$useEvent)(scrollRef, \"scroll\", isVirtualized ? null : function () {\n    scrollPos.current = {\n      top: scrollRef.current.scrollTop,\n      left: scrollRef.current.scrollLeft\n    };\n  });\n  var onFocus = function onFocus(e) {\n    if (manager.isFocused) {\n      if (!e.currentTarget.contains(e.target)) manager.setFocused(false);\n      return;\n    }\n    if (!e.currentTarget.contains(e.target)) return;\n    manager.setFocused(true);\n    if (manager.focusedKey == null) {\n      var navigateToFirstKey = function navigateToFirstKey(key) {\n        if (key != null) {\n          manager.setFocusedKey(key);\n          if (selectOnFocus) manager.replaceSelection(key);\n        }\n      };\n      var relatedTarget = e.relatedTarget;\n      var _manager_lastSelectedKey, _manager_firstSelectedKey;\n      if (relatedTarget && e.currentTarget.compareDocumentPosition(relatedTarget) & Node.DOCUMENT_POSITION_FOLLOWING) navigateToFirstKey((_manager_lastSelectedKey = manager.lastSelectedKey) !== null && _manager_lastSelectedKey !== void 0 ? _manager_lastSelectedKey : delegate.getLastKey());else navigateToFirstKey((_manager_firstSelectedKey = manager.firstSelectedKey) !== null && _manager_firstSelectedKey !== void 0 ? _manager_firstSelectedKey : delegate.getFirstKey());\n    } else if (!isVirtualized) {\n      scrollRef.current.scrollTop = scrollPos.current.top;\n      scrollRef.current.scrollLeft = scrollPos.current.left;\n    }\n    if (!isVirtualized && manager.focusedKey != null) {\n      var element = scrollRef.current.querySelector(`[data-key=\"${CSS.escape(manager.focusedKey.toString())}\"]`);\n      if (element) {\n        if (!element.contains(document.activeElement)) (0, $3H3GQ$focusWithoutScrolling)(element);\n        var modality = (0, $3H3GQ$getInteractionModality)();\n        if (modality === \"keyboard\") (0, $3H3GQ$scrollIntoViewport)(element, {\n          containingElement: ref.current\n        });\n      }\n    }\n  };\n  var onBlur = function onBlur(e) {\n    if (!e.currentTarget.contains(e.relatedTarget)) manager.setFocused(false);\n  };\n  var autoFocusRef = (0, $3H3GQ$useRef)(autoFocus);\n  (0, $3H3GQ$useEffect)(function () {\n    if (autoFocusRef.current) {\n      var focusedKey = null;\n      if (autoFocus === \"first\") focusedKey = delegate.getFirstKey();\n      if (autoFocus === \"last\") focusedKey = delegate.getLastKey();\n      var selectedKeys = manager.selectedKeys;\n      if (selectedKeys.size) {\n        for (var key of selectedKeys) if (manager.canSelectItem(key)) {\n          focusedKey = key;\n          break;\n        }\n      }\n      manager.setFocused(true);\n      manager.setFocusedKey(focusedKey);\n      if (focusedKey == null && !shouldUseVirtualFocus) (0, $3H3GQ$focusSafely)(ref.current);\n    }\n  }, []);\n  var lastFocusedKey = (0, $3H3GQ$useRef)(manager.focusedKey);\n  (0, $3H3GQ$useEffect)(function () {\n    var modality = (0, $3H3GQ$getInteractionModality)();\n    if (manager.isFocused && manager.focusedKey != null && (scrollRef === null || scrollRef === void 0 ? void 0 : scrollRef.current)) {\n      var element = scrollRef.current.querySelector(`[data-key=\"${CSS.escape(manager.focusedKey.toString())}\"]`);\n      if (element && (modality === \"keyboard\" || autoFocusRef.current)) {\n        if (!isVirtualized) (0, $3H3GQ$scrollIntoView)(scrollRef.current, element);\n        if (modality !== \"virtual\") (0, $3H3GQ$scrollIntoViewport)(element, {\n          containingElement: ref.current\n        });\n      }\n    }\n    if (manager.isFocused && manager.focusedKey == null && lastFocusedKey.current != null) (0, $3H3GQ$focusSafely)(ref.current);\n    lastFocusedKey.current = manager.focusedKey;\n    autoFocusRef.current = false;\n  }, [isVirtualized, scrollRef, manager.focusedKey, manager.isFocused, ref]);\n  var handlers = {\n    onKeyDown: onKeyDown,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    onMouseDown: function onMouseDown(e) {\n      if (scrollRef.current === e.target) e.preventDefault();\n    }\n  };\n  var _ref2 = (0, $fb3050f43d946246$export$e32c88dfddc6e1d8)({\n      keyboardDelegate: delegate,\n      selectionManager: manager\n    }),\n    typeSelectProps = _ref2.typeSelectProps;\n  if (!disallowTypeAhead) handlers = (0, $3H3GQ$mergeProps)(typeSelectProps, handlers);\n  var tabIndex;\n  if (!shouldUseVirtualFocus) tabIndex = manager.focusedKey == null ? 0 : -1;\n  return {\n    collectionProps: _objectSpread(_objectSpread({}, handlers), {}, {\n      tabIndex: tabIndex\n    })\n  };\n}\nexport { $ae20dd8cbca75726$export$d6daf82dcd84e87c as useSelectableCollection };","map":{"version":3,"names":["isCtrlKeyPressed","$feb5ffebff200149$export$16792effe837dba3","isNonContiguousSelectionModifier","$feb5ffebff200149$export$d3e3bd3e26688c04","useTypeSelect","$fb3050f43d946246$export$e32c88dfddc6e1d8","flushSync","$3H3GQ$flushSync","useRef","$3H3GQ$useRef","useEffect","$3H3GQ$useEffect","getFocusableTreeWalker","$3H3GQ$getFocusableTreeWalker","focusSafely","$3H3GQ$focusSafely","useRouter","$3H3GQ$useRouter","focusWithoutScrolling","$3H3GQ$focusWithoutScrolling","useEvent","$3H3GQ$useEvent","scrollIntoViewport","$3H3GQ$scrollIntoViewport","scrollIntoView","$3H3GQ$scrollIntoView","mergeProps","$3H3GQ$mergeProps","getInteractionModality","$3H3GQ$getInteractionModality","useLocale","$3H3GQ$useLocale","$ae20dd8cbca75726$export$d6daf82dcd84e87c","options","manager","selectionManager","delegate","keyboardDelegate","ref","_options$autoFocus","autoFocus","_options$shouldFocusW","shouldFocusWrap","_options$disallowEmpt","disallowEmptySelection","_options$disallowSele","disallowSelectAll","_options$selectOnFocu","selectOnFocus","selectionBehavior","_options$disallowType","disallowTypeAhead","shouldUseVirtualFocus","_options$allowsTabNav","allowsTabNavigation","isVirtualized","_options$scrollRef","scrollRef","_options$linkBehavior","linkBehavior","_ref","direction","router","onKeyDown","e","altKey","key","preventDefault","current","contains","target","navigateToKey","childFocus","isLink","setFocusedKey","item","querySelector","CSS","escape","toString","itemProps","getItemProps","open","href","routerOptions","shiftKey","selectionMode","extendSelection","replaceSelection","getKeyBelow","_delegate_getFirstKey","_delegate_getFirstKey1","nextKey","focusedKey","getFirstKey","call","getKeyAbove","_delegate_getLastKey","_delegate_getLastKey1","getLastKey","getKeyLeftOf","_delegate_getFirstKey2","_delegate_getLastKey2","getKeyRightOf","_delegate_getLastKey3","_delegate_getFirstKey3","firstKey","lastKey","getKeyPageBelow","getKeyPageAbove","selectAll","selectedKeys","size","stopPropagation","clearSelection","focus","walker","tabbable","next","last","lastChild","document","activeElement","scrollPos","top","left","scrollTop","scrollLeft","onFocus","isFocused","currentTarget","setFocused","navigateToFirstKey","relatedTarget","_manager_lastSelectedKey","_manager_firstSelectedKey","compareDocumentPosition","Node","DOCUMENT_POSITION_FOLLOWING","lastSelectedKey","firstSelectedKey","element","modality","containingElement","onBlur","autoFocusRef","canSelectItem","lastFocusedKey","handlers","onMouseDown","_ref2","typeSelectProps","tabIndex","collectionProps","_objectSpread","useSelectableCollection"],"sources":["D:/React Native/Expo+glustack/Music-App/node_modules/@react-aria/selection/dist/useSelectableCollection.mjs"],"sourcesContent":["import {isCtrlKeyPressed as $feb5ffebff200149$export$16792effe837dba3, isNonContiguousSelectionModifier as $feb5ffebff200149$export$d3e3bd3e26688c04} from \"./utils.mjs\";\nimport {useTypeSelect as $fb3050f43d946246$export$e32c88dfddc6e1d8} from \"./useTypeSelect.mjs\";\nimport {flushSync as $3H3GQ$flushSync} from \"react-dom\";\nimport {useRef as $3H3GQ$useRef, useEffect as $3H3GQ$useEffect} from \"react\";\nimport {getFocusableTreeWalker as $3H3GQ$getFocusableTreeWalker, focusSafely as $3H3GQ$focusSafely} from \"@react-aria/focus\";\nimport {useRouter as $3H3GQ$useRouter, focusWithoutScrolling as $3H3GQ$focusWithoutScrolling, useEvent as $3H3GQ$useEvent, scrollIntoViewport as $3H3GQ$scrollIntoViewport, scrollIntoView as $3H3GQ$scrollIntoView, mergeProps as $3H3GQ$mergeProps} from \"@react-aria/utils\";\nimport {getInteractionModality as $3H3GQ$getInteractionModality} from \"@react-aria/interactions\";\nimport {useLocale as $3H3GQ$useLocale} from \"@react-aria/i18n\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \n\n\n\n\n\n\n\nfunction $ae20dd8cbca75726$export$d6daf82dcd84e87c(options) {\n    let { selectionManager: manager, keyboardDelegate: delegate, ref: ref, autoFocus: autoFocus = false, shouldFocusWrap: shouldFocusWrap = false, disallowEmptySelection: disallowEmptySelection = false, disallowSelectAll: disallowSelectAll = false, selectOnFocus: selectOnFocus = manager.selectionBehavior === \"replace\", disallowTypeAhead: disallowTypeAhead = false, shouldUseVirtualFocus: shouldUseVirtualFocus, allowsTabNavigation: allowsTabNavigation = false, isVirtualized: isVirtualized, scrollRef: // If no scrollRef is provided, assume the collection ref is the scrollable region\n    scrollRef = ref, linkBehavior: linkBehavior = \"action\" } = options;\n    let { direction: direction } = (0, $3H3GQ$useLocale)();\n    let router = (0, $3H3GQ$useRouter)();\n    let onKeyDown = (e)=>{\n        // Prevent option + tab from doing anything since it doesn't move focus to the cells, only buttons/checkboxes\n        if (e.altKey && e.key === \"Tab\") e.preventDefault();\n        // Keyboard events bubble through portals. Don't handle keyboard events\n        // for elements outside the collection (e.g. menus).\n        if (!ref.current.contains(e.target)) return;\n        const navigateToKey = (key, childFocus)=>{\n            if (key != null) {\n                if (manager.isLink(key) && linkBehavior === \"selection\" && selectOnFocus && !(0, $feb5ffebff200149$export$d3e3bd3e26688c04)(e)) {\n                    // Set focused key and re-render synchronously to bring item into view if needed.\n                    (0, $3H3GQ$flushSync)(()=>{\n                        manager.setFocusedKey(key, childFocus);\n                    });\n                    let item = scrollRef.current.querySelector(`[data-key=\"${CSS.escape(key.toString())}\"]`);\n                    let itemProps = manager.getItemProps(key);\n                    router.open(item, e, itemProps.href, itemProps.routerOptions);\n                    return;\n                }\n                manager.setFocusedKey(key, childFocus);\n                if (manager.isLink(key) && linkBehavior === \"override\") return;\n                if (e.shiftKey && manager.selectionMode === \"multiple\") manager.extendSelection(key);\n                else if (selectOnFocus && !(0, $feb5ffebff200149$export$d3e3bd3e26688c04)(e)) manager.replaceSelection(key);\n            }\n        };\n        switch(e.key){\n            case \"ArrowDown\":\n                if (delegate.getKeyBelow) {\n                    var _delegate_getFirstKey, _delegate_getFirstKey1;\n                    e.preventDefault();\n                    let nextKey = manager.focusedKey != null ? delegate.getKeyBelow(manager.focusedKey) : (_delegate_getFirstKey = delegate.getFirstKey) === null || _delegate_getFirstKey === void 0 ? void 0 : _delegate_getFirstKey.call(delegate);\n                    if (nextKey == null && shouldFocusWrap) nextKey = (_delegate_getFirstKey1 = delegate.getFirstKey) === null || _delegate_getFirstKey1 === void 0 ? void 0 : _delegate_getFirstKey1.call(delegate, manager.focusedKey);\n                    navigateToKey(nextKey);\n                }\n                break;\n            case \"ArrowUp\":\n                if (delegate.getKeyAbove) {\n                    var _delegate_getLastKey, _delegate_getLastKey1;\n                    e.preventDefault();\n                    let nextKey = manager.focusedKey != null ? delegate.getKeyAbove(manager.focusedKey) : (_delegate_getLastKey = delegate.getLastKey) === null || _delegate_getLastKey === void 0 ? void 0 : _delegate_getLastKey.call(delegate);\n                    if (nextKey == null && shouldFocusWrap) nextKey = (_delegate_getLastKey1 = delegate.getLastKey) === null || _delegate_getLastKey1 === void 0 ? void 0 : _delegate_getLastKey1.call(delegate, manager.focusedKey);\n                    navigateToKey(nextKey);\n                }\n                break;\n            case \"ArrowLeft\":\n                if (delegate.getKeyLeftOf) {\n                    var _delegate_getFirstKey2, _delegate_getLastKey2;\n                    e.preventDefault();\n                    let nextKey = delegate.getKeyLeftOf(manager.focusedKey);\n                    if (nextKey == null && shouldFocusWrap) nextKey = direction === \"rtl\" ? (_delegate_getFirstKey2 = delegate.getFirstKey) === null || _delegate_getFirstKey2 === void 0 ? void 0 : _delegate_getFirstKey2.call(delegate, manager.focusedKey) : (_delegate_getLastKey2 = delegate.getLastKey) === null || _delegate_getLastKey2 === void 0 ? void 0 : _delegate_getLastKey2.call(delegate, manager.focusedKey);\n                    navigateToKey(nextKey, direction === \"rtl\" ? \"first\" : \"last\");\n                }\n                break;\n            case \"ArrowRight\":\n                if (delegate.getKeyRightOf) {\n                    var _delegate_getLastKey3, _delegate_getFirstKey3;\n                    e.preventDefault();\n                    let nextKey = delegate.getKeyRightOf(manager.focusedKey);\n                    if (nextKey == null && shouldFocusWrap) nextKey = direction === \"rtl\" ? (_delegate_getLastKey3 = delegate.getLastKey) === null || _delegate_getLastKey3 === void 0 ? void 0 : _delegate_getLastKey3.call(delegate, manager.focusedKey) : (_delegate_getFirstKey3 = delegate.getFirstKey) === null || _delegate_getFirstKey3 === void 0 ? void 0 : _delegate_getFirstKey3.call(delegate, manager.focusedKey);\n                    navigateToKey(nextKey, direction === \"rtl\" ? \"last\" : \"first\");\n                }\n                break;\n            case \"Home\":\n                if (delegate.getFirstKey) {\n                    e.preventDefault();\n                    let firstKey = delegate.getFirstKey(manager.focusedKey, (0, $feb5ffebff200149$export$16792effe837dba3)(e));\n                    manager.setFocusedKey(firstKey);\n                    if ((0, $feb5ffebff200149$export$16792effe837dba3)(e) && e.shiftKey && manager.selectionMode === \"multiple\") manager.extendSelection(firstKey);\n                    else if (selectOnFocus) manager.replaceSelection(firstKey);\n                }\n                break;\n            case \"End\":\n                if (delegate.getLastKey) {\n                    e.preventDefault();\n                    let lastKey = delegate.getLastKey(manager.focusedKey, (0, $feb5ffebff200149$export$16792effe837dba3)(e));\n                    manager.setFocusedKey(lastKey);\n                    if ((0, $feb5ffebff200149$export$16792effe837dba3)(e) && e.shiftKey && manager.selectionMode === \"multiple\") manager.extendSelection(lastKey);\n                    else if (selectOnFocus) manager.replaceSelection(lastKey);\n                }\n                break;\n            case \"PageDown\":\n                if (delegate.getKeyPageBelow) {\n                    e.preventDefault();\n                    let nextKey = delegate.getKeyPageBelow(manager.focusedKey);\n                    navigateToKey(nextKey);\n                }\n                break;\n            case \"PageUp\":\n                if (delegate.getKeyPageAbove) {\n                    e.preventDefault();\n                    let nextKey = delegate.getKeyPageAbove(manager.focusedKey);\n                    navigateToKey(nextKey);\n                }\n                break;\n            case \"a\":\n                if ((0, $feb5ffebff200149$export$16792effe837dba3)(e) && manager.selectionMode === \"multiple\" && disallowSelectAll !== true) {\n                    e.preventDefault();\n                    manager.selectAll();\n                }\n                break;\n            case \"Escape\":\n                if (!disallowEmptySelection && manager.selectedKeys.size !== 0) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    manager.clearSelection();\n                }\n                break;\n            case \"Tab\":\n                if (!allowsTabNavigation) {\n                    // There may be elements that are \"tabbable\" inside a collection (e.g. in a grid cell).\n                    // However, collections should be treated as a single tab stop, with arrow key navigation internally.\n                    // We don't control the rendering of these, so we can't override the tabIndex to prevent tabbing.\n                    // Instead, we handle the Tab key, and move focus manually to the first/last tabbable element\n                    // in the collection, so that the browser default behavior will apply starting from that element\n                    // rather than the currently focused one.\n                    if (e.shiftKey) ref.current.focus();\n                    else {\n                        let walker = (0, $3H3GQ$getFocusableTreeWalker)(ref.current, {\n                            tabbable: true\n                        });\n                        let next;\n                        let last;\n                        do {\n                            last = walker.lastChild();\n                            if (last) next = last;\n                        }while (last);\n                        if (next && !next.contains(document.activeElement)) (0, $3H3GQ$focusWithoutScrolling)(next);\n                    }\n                    break;\n                }\n        }\n    };\n    // Store the scroll position so we can restore it later.\n    let scrollPos = (0, $3H3GQ$useRef)({\n        top: 0,\n        left: 0\n    });\n    (0, $3H3GQ$useEvent)(scrollRef, \"scroll\", isVirtualized ? null : ()=>{\n        scrollPos.current = {\n            top: scrollRef.current.scrollTop,\n            left: scrollRef.current.scrollLeft\n        };\n    });\n    let onFocus = (e)=>{\n        if (manager.isFocused) {\n            // If a focus event bubbled through a portal, reset focus state.\n            if (!e.currentTarget.contains(e.target)) manager.setFocused(false);\n            return;\n        }\n        // Focus events can bubble through portals. Ignore these events.\n        if (!e.currentTarget.contains(e.target)) return;\n        manager.setFocused(true);\n        if (manager.focusedKey == null) {\n            let navigateToFirstKey = (key)=>{\n                if (key != null) {\n                    manager.setFocusedKey(key);\n                    if (selectOnFocus) manager.replaceSelection(key);\n                }\n            };\n            // If the user hasn't yet interacted with the collection, there will be no focusedKey set.\n            // Attempt to detect whether the user is tabbing forward or backward into the collection\n            // and either focus the first or last item accordingly.\n            let relatedTarget = e.relatedTarget;\n            var _manager_lastSelectedKey, _manager_firstSelectedKey;\n            if (relatedTarget && e.currentTarget.compareDocumentPosition(relatedTarget) & Node.DOCUMENT_POSITION_FOLLOWING) navigateToFirstKey((_manager_lastSelectedKey = manager.lastSelectedKey) !== null && _manager_lastSelectedKey !== void 0 ? _manager_lastSelectedKey : delegate.getLastKey());\n            else navigateToFirstKey((_manager_firstSelectedKey = manager.firstSelectedKey) !== null && _manager_firstSelectedKey !== void 0 ? _manager_firstSelectedKey : delegate.getFirstKey());\n        } else if (!isVirtualized) {\n            // Restore the scroll position to what it was before.\n            scrollRef.current.scrollTop = scrollPos.current.top;\n            scrollRef.current.scrollLeft = scrollPos.current.left;\n        }\n        if (!isVirtualized && manager.focusedKey != null) {\n            // Refocus and scroll the focused item into view if it exists within the scrollable region.\n            let element = scrollRef.current.querySelector(`[data-key=\"${CSS.escape(manager.focusedKey.toString())}\"]`);\n            if (element) {\n                // This prevents a flash of focus on the first/last element in the collection, or the collection itself.\n                if (!element.contains(document.activeElement)) (0, $3H3GQ$focusWithoutScrolling)(element);\n                let modality = (0, $3H3GQ$getInteractionModality)();\n                if (modality === \"keyboard\") (0, $3H3GQ$scrollIntoViewport)(element, {\n                    containingElement: ref.current\n                });\n            }\n        }\n    };\n    let onBlur = (e)=>{\n        // Don't set blurred and then focused again if moving focus within the collection.\n        if (!e.currentTarget.contains(e.relatedTarget)) manager.setFocused(false);\n    };\n    const autoFocusRef = (0, $3H3GQ$useRef)(autoFocus);\n    (0, $3H3GQ$useEffect)(()=>{\n        if (autoFocusRef.current) {\n            let focusedKey = null;\n            // Check focus strategy to determine which item to focus\n            if (autoFocus === \"first\") focusedKey = delegate.getFirstKey();\n            if (autoFocus === \"last\") focusedKey = delegate.getLastKey();\n            // If there are any selected keys, make the first one the new focus target\n            let selectedKeys = manager.selectedKeys;\n            if (selectedKeys.size) {\n                for (let key of selectedKeys)if (manager.canSelectItem(key)) {\n                    focusedKey = key;\n                    break;\n                }\n            }\n            manager.setFocused(true);\n            manager.setFocusedKey(focusedKey);\n            // If no default focus key is selected, focus the collection itself.\n            if (focusedKey == null && !shouldUseVirtualFocus) (0, $3H3GQ$focusSafely)(ref.current);\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    // If not virtualized, scroll the focused element into view when the focusedKey changes.\n    // When virtualized, Virtualizer handles this internally.\n    let lastFocusedKey = (0, $3H3GQ$useRef)(manager.focusedKey);\n    (0, $3H3GQ$useEffect)(()=>{\n        let modality = (0, $3H3GQ$getInteractionModality)();\n        if (manager.isFocused && manager.focusedKey != null && (scrollRef === null || scrollRef === void 0 ? void 0 : scrollRef.current)) {\n            let element = scrollRef.current.querySelector(`[data-key=\"${CSS.escape(manager.focusedKey.toString())}\"]`);\n            if (element && (modality === \"keyboard\" || autoFocusRef.current)) {\n                if (!isVirtualized) (0, $3H3GQ$scrollIntoView)(scrollRef.current, element);\n                // Avoid scroll in iOS VO, since it may cause overlay to close (i.e. RAC submenu)\n                if (modality !== \"virtual\") (0, $3H3GQ$scrollIntoViewport)(element, {\n                    containingElement: ref.current\n                });\n            }\n        }\n        // If the focused key becomes null (e.g. the last item is deleted), focus the whole collection.\n        if (manager.isFocused && manager.focusedKey == null && lastFocusedKey.current != null) (0, $3H3GQ$focusSafely)(ref.current);\n        lastFocusedKey.current = manager.focusedKey;\n        autoFocusRef.current = false;\n    }, [\n        isVirtualized,\n        scrollRef,\n        manager.focusedKey,\n        manager.isFocused,\n        ref\n    ]);\n    let handlers = {\n        onKeyDown: onKeyDown,\n        onFocus: onFocus,\n        onBlur: onBlur,\n        onMouseDown (e) {\n            // Ignore events that bubbled through portals.\n            if (scrollRef.current === e.target) // Prevent focus going to the collection when clicking on the scrollbar.\n            e.preventDefault();\n        }\n    };\n    let { typeSelectProps: typeSelectProps } = (0, $fb3050f43d946246$export$e32c88dfddc6e1d8)({\n        keyboardDelegate: delegate,\n        selectionManager: manager\n    });\n    if (!disallowTypeAhead) handlers = (0, $3H3GQ$mergeProps)(typeSelectProps, handlers);\n    // If nothing is focused within the collection, make the collection itself tabbable.\n    // This will be marshalled to either the first or last item depending on where focus came from.\n    // If using virtual focus, don't set a tabIndex at all so that VoiceOver on iOS 14 doesn't try\n    // to move real DOM focus to the element anyway.\n    let tabIndex;\n    if (!shouldUseVirtualFocus) tabIndex = manager.focusedKey == null ? 0 : -1;\n    return {\n        collectionProps: {\n            ...handlers,\n            tabIndex: tabIndex\n        }\n    };\n}\n\n\nexport {$ae20dd8cbca75726$export$d6daf82dcd84e87c as useSelectableCollection};\n//# sourceMappingURL=useSelectableCollection.mjs.map\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}