{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport { focusSafely as $6a99195332edec8b$export$80f3e147d781571c } from \"./focusSafely.mjs\";\nimport { isElementVisible as $645f2e67b85a24c9$export$e989c0fffaa6b27a } from \"./isElementVisible.mjs\";\nimport { useLayoutEffect as $cgawC$useLayoutEffect, getOwnerDocument as $cgawC$getOwnerDocument } from \"@react-aria/utils\";\nimport $cgawC$react, { useRef as $cgawC$useRef, useContext as $cgawC$useContext, useMemo as $cgawC$useMemo, useEffect as $cgawC$useEffect } from \"react\";\nvar $9bf71ea28793e738$var$FocusContext = (0, $cgawC$react).createContext(null);\nvar $9bf71ea28793e738$var$activeScope = null;\nfunction $9bf71ea28793e738$export$20e40289641fbbb6(props) {\n  var children = props.children,\n    contain = props.contain,\n    restoreFocus = props.restoreFocus,\n    autoFocus = props.autoFocus;\n  var startRef = (0, $cgawC$useRef)(null);\n  var endRef = (0, $cgawC$useRef)(null);\n  var scopeRef = (0, $cgawC$useRef)([]);\n  var _ref = (0, $cgawC$useContext)($9bf71ea28793e738$var$FocusContext) || {},\n    parentNode = _ref.parentNode;\n  var node = (0, $cgawC$useMemo)(function () {\n    return new $9bf71ea28793e738$var$TreeNode({\n      scopeRef: scopeRef\n    });\n  }, [scopeRef]);\n  (0, $cgawC$useLayoutEffect)(function () {\n    var parent = parentNode || $9bf71ea28793e738$export$d06fae2ee68b101e.root;\n    if ($9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(parent.scopeRef) && $9bf71ea28793e738$var$activeScope && !$9bf71ea28793e738$var$isAncestorScope($9bf71ea28793e738$var$activeScope, parent.scopeRef)) {\n      var activeNode = $9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode($9bf71ea28793e738$var$activeScope);\n      if (activeNode) parent = activeNode;\n    }\n    parent.addChild(node);\n    $9bf71ea28793e738$export$d06fae2ee68b101e.addNode(node);\n  }, [node, parentNode]);\n  (0, $cgawC$useLayoutEffect)(function () {\n    var node = $9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scopeRef);\n    if (node) node.contain = !!contain;\n  }, [contain]);\n  (0, $cgawC$useLayoutEffect)(function () {\n    var _startRef_current;\n    var node = (_startRef_current = startRef.current) === null || _startRef_current === void 0 ? void 0 : _startRef_current.nextSibling;\n    var nodes = [];\n    while (node && node !== endRef.current) {\n      nodes.push(node);\n      node = node.nextSibling;\n    }\n    scopeRef.current = nodes;\n  }, [children]);\n  $9bf71ea28793e738$var$useActiveScopeTracker(scopeRef, restoreFocus, contain);\n  $9bf71ea28793e738$var$useFocusContainment(scopeRef, contain);\n  $9bf71ea28793e738$var$useRestoreFocus(scopeRef, restoreFocus, contain);\n  $9bf71ea28793e738$var$useAutoFocus(scopeRef, autoFocus);\n  (0, $cgawC$useEffect)(function () {\n    var activeElement = (0, $cgawC$getOwnerDocument)(scopeRef.current ? scopeRef.current[0] : undefined).activeElement;\n    var scope = null;\n    if ($9bf71ea28793e738$var$isElementInScope(activeElement, scopeRef.current)) {\n      for (var _node of $9bf71ea28793e738$export$d06fae2ee68b101e.traverse()) if (_node.scopeRef && $9bf71ea28793e738$var$isElementInScope(activeElement, _node.scopeRef.current)) scope = _node;\n      if (scope === $9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scopeRef)) $9bf71ea28793e738$var$activeScope = scope.scopeRef;\n    }\n  }, [scopeRef]);\n  (0, $cgawC$useLayoutEffect)(function () {\n    return function () {\n      var _focusScopeTree_getTreeNode_parent, _focusScopeTree_getTreeNode;\n      var _focusScopeTree_getTreeNode_parent_scopeRef;\n      var parentScope = (_focusScopeTree_getTreeNode_parent_scopeRef = (_focusScopeTree_getTreeNode = $9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scopeRef)) === null || _focusScopeTree_getTreeNode === void 0 ? void 0 : (_focusScopeTree_getTreeNode_parent = _focusScopeTree_getTreeNode.parent) === null || _focusScopeTree_getTreeNode_parent === void 0 ? void 0 : _focusScopeTree_getTreeNode_parent.scopeRef) !== null && _focusScopeTree_getTreeNode_parent_scopeRef !== void 0 ? _focusScopeTree_getTreeNode_parent_scopeRef : null;\n      if ((scopeRef === $9bf71ea28793e738$var$activeScope || $9bf71ea28793e738$var$isAncestorScope(scopeRef, $9bf71ea28793e738$var$activeScope)) && (!parentScope || $9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(parentScope))) $9bf71ea28793e738$var$activeScope = parentScope;\n      $9bf71ea28793e738$export$d06fae2ee68b101e.removeTreeNode(scopeRef);\n    };\n  }, [scopeRef]);\n  var focusManager = (0, $cgawC$useMemo)(function () {\n    return $9bf71ea28793e738$var$createFocusManagerForScope(scopeRef);\n  }, []);\n  var value = (0, $cgawC$useMemo)(function () {\n    return {\n      focusManager: focusManager,\n      parentNode: node\n    };\n  }, [node, focusManager]);\n  return (0, $cgawC$react).createElement($9bf71ea28793e738$var$FocusContext.Provider, {\n    value: value\n  }, (0, $cgawC$react).createElement(\"span\", {\n    \"data-focus-scope-start\": true,\n    hidden: true,\n    ref: startRef\n  }), children, (0, $cgawC$react).createElement(\"span\", {\n    \"data-focus-scope-end\": true,\n    hidden: true,\n    ref: endRef\n  }));\n}\nfunction $9bf71ea28793e738$export$10c5169755ce7bd7() {\n  var _useContext;\n  return (_useContext = (0, $cgawC$useContext)($9bf71ea28793e738$var$FocusContext)) === null || _useContext === void 0 ? void 0 : _useContext.focusManager;\n}\nfunction $9bf71ea28793e738$var$createFocusManagerForScope(scopeRef) {\n  return {\n    focusNext: function focusNext() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var scope = scopeRef.current;\n      var from = opts.from,\n        tabbable = opts.tabbable,\n        wrap = opts.wrap,\n        accept = opts.accept;\n      var node = from || (0, $cgawC$getOwnerDocument)(scope[0]).activeElement;\n      var sentinel = scope[0].previousElementSibling;\n      var scopeRoot = $9bf71ea28793e738$var$getScopeRoot(scope);\n      var walker = $9bf71ea28793e738$export$2d6ec8fc375ceafa(scopeRoot, {\n        tabbable: tabbable,\n        accept: accept\n      }, scope);\n      walker.currentNode = $9bf71ea28793e738$var$isElementInScope(node, scope) ? node : sentinel;\n      var nextNode = walker.nextNode();\n      if (!nextNode && wrap) {\n        walker.currentNode = sentinel;\n        nextNode = walker.nextNode();\n      }\n      if (nextNode) $9bf71ea28793e738$var$focusElement(nextNode, true);\n      return nextNode;\n    },\n    focusPrevious: function focusPrevious() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var scope = scopeRef.current;\n      var from = opts.from,\n        tabbable = opts.tabbable,\n        wrap = opts.wrap,\n        accept = opts.accept;\n      var node = from || (0, $cgawC$getOwnerDocument)(scope[0]).activeElement;\n      var sentinel = scope[scope.length - 1].nextElementSibling;\n      var scopeRoot = $9bf71ea28793e738$var$getScopeRoot(scope);\n      var walker = $9bf71ea28793e738$export$2d6ec8fc375ceafa(scopeRoot, {\n        tabbable: tabbable,\n        accept: accept\n      }, scope);\n      walker.currentNode = $9bf71ea28793e738$var$isElementInScope(node, scope) ? node : sentinel;\n      var previousNode = walker.previousNode();\n      if (!previousNode && wrap) {\n        walker.currentNode = sentinel;\n        previousNode = walker.previousNode();\n      }\n      if (previousNode) $9bf71ea28793e738$var$focusElement(previousNode, true);\n      return previousNode;\n    },\n    focusFirst: function focusFirst() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var scope = scopeRef.current;\n      var tabbable = opts.tabbable,\n        accept = opts.accept;\n      var scopeRoot = $9bf71ea28793e738$var$getScopeRoot(scope);\n      var walker = $9bf71ea28793e738$export$2d6ec8fc375ceafa(scopeRoot, {\n        tabbable: tabbable,\n        accept: accept\n      }, scope);\n      walker.currentNode = scope[0].previousElementSibling;\n      var nextNode = walker.nextNode();\n      if (nextNode) $9bf71ea28793e738$var$focusElement(nextNode, true);\n      return nextNode;\n    },\n    focusLast: function focusLast() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var scope = scopeRef.current;\n      var tabbable = opts.tabbable,\n        accept = opts.accept;\n      var scopeRoot = $9bf71ea28793e738$var$getScopeRoot(scope);\n      var walker = $9bf71ea28793e738$export$2d6ec8fc375ceafa(scopeRoot, {\n        tabbable: tabbable,\n        accept: accept\n      }, scope);\n      walker.currentNode = scope[scope.length - 1].nextElementSibling;\n      var previousNode = walker.previousNode();\n      if (previousNode) $9bf71ea28793e738$var$focusElement(previousNode, true);\n      return previousNode;\n    }\n  };\n}\nvar $9bf71ea28793e738$var$focusableElements = [\"input:not([disabled]):not([type=hidden])\", \"select:not([disabled])\", \"textarea:not([disabled])\", \"button:not([disabled])\", \"a[href]\", \"area[href]\", \"summary\", \"iframe\", \"object\", \"embed\", \"audio[controls]\", \"video[controls]\", \"[contenteditable]\"];\nvar $9bf71ea28793e738$var$FOCUSABLE_ELEMENT_SELECTOR = $9bf71ea28793e738$var$focusableElements.join(\":not([hidden]),\") + \",[tabindex]:not([disabled]):not([hidden])\";\n$9bf71ea28793e738$var$focusableElements.push('[tabindex]:not([tabindex=\"-1\"]):not([disabled])');\nvar $9bf71ea28793e738$var$TABBABLE_ELEMENT_SELECTOR = $9bf71ea28793e738$var$focusableElements.join(':not([hidden]):not([tabindex=\"-1\"]),');\nfunction $9bf71ea28793e738$export$4c063cf1350e6fed(element) {\n  return element.matches($9bf71ea28793e738$var$FOCUSABLE_ELEMENT_SELECTOR);\n}\nfunction $9bf71ea28793e738$var$getScopeRoot(scope) {\n  return scope[0].parentElement;\n}\nfunction $9bf71ea28793e738$var$shouldContainFocus(scopeRef) {\n  var scope = $9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode($9bf71ea28793e738$var$activeScope);\n  while (scope && scope.scopeRef !== scopeRef) {\n    if (scope.contain) return false;\n    scope = scope.parent;\n  }\n  return true;\n}\nfunction $9bf71ea28793e738$var$useFocusContainment(scopeRef, contain) {\n  var focusedNode = (0, $cgawC$useRef)();\n  var raf = (0, $cgawC$useRef)();\n  (0, $cgawC$useLayoutEffect)(function () {\n    var scope = scopeRef.current;\n    if (!contain) {\n      if (raf.current) {\n        cancelAnimationFrame(raf.current);\n        raf.current = undefined;\n      }\n      return;\n    }\n    var ownerDocument = (0, $cgawC$getOwnerDocument)(scope ? scope[0] : undefined);\n    var onKeyDown = function onKeyDown(e) {\n      if (e.key !== \"Tab\" || e.altKey || e.ctrlKey || e.metaKey || !$9bf71ea28793e738$var$shouldContainFocus(scopeRef) || e.isComposing) return;\n      var focusedElement = ownerDocument.activeElement;\n      var scope = scopeRef.current;\n      if (!scope || !$9bf71ea28793e738$var$isElementInScope(focusedElement, scope)) return;\n      var scopeRoot = $9bf71ea28793e738$var$getScopeRoot(scope);\n      var walker = $9bf71ea28793e738$export$2d6ec8fc375ceafa(scopeRoot, {\n        tabbable: true\n      }, scope);\n      if (!focusedElement) return;\n      walker.currentNode = focusedElement;\n      var nextElement = e.shiftKey ? walker.previousNode() : walker.nextNode();\n      if (!nextElement) {\n        walker.currentNode = e.shiftKey ? scope[scope.length - 1].nextElementSibling : scope[0].previousElementSibling;\n        nextElement = e.shiftKey ? walker.previousNode() : walker.nextNode();\n      }\n      e.preventDefault();\n      if (nextElement) $9bf71ea28793e738$var$focusElement(nextElement, true);\n    };\n    var onFocus = function onFocus(e) {\n      if ((!$9bf71ea28793e738$var$activeScope || $9bf71ea28793e738$var$isAncestorScope($9bf71ea28793e738$var$activeScope, scopeRef)) && $9bf71ea28793e738$var$isElementInScope(e.target, scopeRef.current)) {\n        $9bf71ea28793e738$var$activeScope = scopeRef;\n        focusedNode.current = e.target;\n      } else if ($9bf71ea28793e738$var$shouldContainFocus(scopeRef) && !$9bf71ea28793e738$var$isElementInChildScope(e.target, scopeRef)) {\n        if (focusedNode.current) focusedNode.current.focus();else if ($9bf71ea28793e738$var$activeScope && $9bf71ea28793e738$var$activeScope.current) $9bf71ea28793e738$var$focusFirstInScope($9bf71ea28793e738$var$activeScope.current);\n      } else if ($9bf71ea28793e738$var$shouldContainFocus(scopeRef)) focusedNode.current = e.target;\n    };\n    var onBlur = function onBlur(e) {\n      if (raf.current) cancelAnimationFrame(raf.current);\n      raf.current = requestAnimationFrame(function () {\n        if (ownerDocument.activeElement && $9bf71ea28793e738$var$shouldContainFocus(scopeRef) && !$9bf71ea28793e738$var$isElementInChildScope(ownerDocument.activeElement, scopeRef)) {\n          $9bf71ea28793e738$var$activeScope = scopeRef;\n          if (ownerDocument.body.contains(e.target)) {\n            var _focusedNode_current;\n            focusedNode.current = e.target;\n            (_focusedNode_current = focusedNode.current) === null || _focusedNode_current === void 0 ? void 0 : _focusedNode_current.focus();\n          } else if ($9bf71ea28793e738$var$activeScope.current) $9bf71ea28793e738$var$focusFirstInScope($9bf71ea28793e738$var$activeScope.current);\n        }\n      });\n    };\n    ownerDocument.addEventListener(\"keydown\", onKeyDown, false);\n    ownerDocument.addEventListener(\"focusin\", onFocus, false);\n    scope === null || scope === void 0 ? void 0 : scope.forEach(function (element) {\n      return element.addEventListener(\"focusin\", onFocus, false);\n    });\n    scope === null || scope === void 0 ? void 0 : scope.forEach(function (element) {\n      return element.addEventListener(\"focusout\", onBlur, false);\n    });\n    return function () {\n      ownerDocument.removeEventListener(\"keydown\", onKeyDown, false);\n      ownerDocument.removeEventListener(\"focusin\", onFocus, false);\n      scope === null || scope === void 0 ? void 0 : scope.forEach(function (element) {\n        return element.removeEventListener(\"focusin\", onFocus, false);\n      });\n      scope === null || scope === void 0 ? void 0 : scope.forEach(function (element) {\n        return element.removeEventListener(\"focusout\", onBlur, false);\n      });\n    };\n  }, [scopeRef, contain]);\n  (0, $cgawC$useLayoutEffect)(function () {\n    return function () {\n      if (raf.current) cancelAnimationFrame(raf.current);\n    };\n  }, [raf]);\n}\nfunction $9bf71ea28793e738$var$isElementInAnyScope(element) {\n  return $9bf71ea28793e738$var$isElementInChildScope(element);\n}\nfunction $9bf71ea28793e738$var$isElementInScope(element, scope) {\n  if (!element) return false;\n  if (!scope) return false;\n  return scope.some(function (node) {\n    return node.contains(element);\n  });\n}\nfunction $9bf71ea28793e738$var$isElementInChildScope(element) {\n  var scope = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  if (element instanceof Element && element.closest(\"[data-react-aria-top-layer]\")) return true;\n  for (var _ref2 of $9bf71ea28793e738$export$d06fae2ee68b101e.traverse($9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scope))) {\n    var s = _ref2.scopeRef;\n    if (s && $9bf71ea28793e738$var$isElementInScope(element, s.current)) return true;\n  }\n  return false;\n}\nfunction $9bf71ea28793e738$export$1258395f99bf9cbf(element) {\n  return $9bf71ea28793e738$var$isElementInChildScope(element, $9bf71ea28793e738$var$activeScope);\n}\nfunction $9bf71ea28793e738$var$isAncestorScope(ancestor, scope) {\n  var _focusScopeTree_getTreeNode;\n  var parent = (_focusScopeTree_getTreeNode = $9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scope)) === null || _focusScopeTree_getTreeNode === void 0 ? void 0 : _focusScopeTree_getTreeNode.parent;\n  while (parent) {\n    if (parent.scopeRef === ancestor) return true;\n    parent = parent.parent;\n  }\n  return false;\n}\nfunction $9bf71ea28793e738$var$focusElement(element) {\n  var scroll = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  if (element != null && !scroll) try {\n    (0, $6a99195332edec8b$export$80f3e147d781571c)(element);\n  } catch (err) {} else if (element != null) try {\n    element.focus();\n  } catch (err) {}\n}\nfunction $9bf71ea28793e738$var$focusFirstInScope(scope) {\n  var tabbable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  var sentinel = scope[0].previousElementSibling;\n  var scopeRoot = $9bf71ea28793e738$var$getScopeRoot(scope);\n  var walker = $9bf71ea28793e738$export$2d6ec8fc375ceafa(scopeRoot, {\n    tabbable: tabbable\n  }, scope);\n  walker.currentNode = sentinel;\n  var nextNode = walker.nextNode();\n  if (tabbable && !nextNode) {\n    scopeRoot = $9bf71ea28793e738$var$getScopeRoot(scope);\n    walker = $9bf71ea28793e738$export$2d6ec8fc375ceafa(scopeRoot, {\n      tabbable: false\n    }, scope);\n    walker.currentNode = sentinel;\n    nextNode = walker.nextNode();\n  }\n  $9bf71ea28793e738$var$focusElement(nextNode);\n}\nfunction $9bf71ea28793e738$var$useAutoFocus(scopeRef, autoFocus) {\n  var autoFocusRef = (0, $cgawC$react).useRef(autoFocus);\n  (0, $cgawC$useEffect)(function () {\n    if (autoFocusRef.current) {\n      $9bf71ea28793e738$var$activeScope = scopeRef;\n      var ownerDocument = (0, $cgawC$getOwnerDocument)(scopeRef.current ? scopeRef.current[0] : undefined);\n      if (!$9bf71ea28793e738$var$isElementInScope(ownerDocument.activeElement, $9bf71ea28793e738$var$activeScope.current) && scopeRef.current) $9bf71ea28793e738$var$focusFirstInScope(scopeRef.current);\n    }\n    autoFocusRef.current = false;\n  }, [scopeRef]);\n}\nfunction $9bf71ea28793e738$var$useActiveScopeTracker(scopeRef, restore, contain) {\n  (0, $cgawC$useLayoutEffect)(function () {\n    if (restore || contain) return;\n    var scope = scopeRef.current;\n    var ownerDocument = (0, $cgawC$getOwnerDocument)(scope ? scope[0] : undefined);\n    var onFocus = function onFocus(e) {\n      var target = e.target;\n      if ($9bf71ea28793e738$var$isElementInScope(target, scopeRef.current)) $9bf71ea28793e738$var$activeScope = scopeRef;else if (!$9bf71ea28793e738$var$isElementInAnyScope(target)) $9bf71ea28793e738$var$activeScope = null;\n    };\n    ownerDocument.addEventListener(\"focusin\", onFocus, false);\n    scope === null || scope === void 0 ? void 0 : scope.forEach(function (element) {\n      return element.addEventListener(\"focusin\", onFocus, false);\n    });\n    return function () {\n      ownerDocument.removeEventListener(\"focusin\", onFocus, false);\n      scope === null || scope === void 0 ? void 0 : scope.forEach(function (element) {\n        return element.removeEventListener(\"focusin\", onFocus, false);\n      });\n    };\n  }, [scopeRef, restore, contain]);\n}\nfunction $9bf71ea28793e738$var$shouldRestoreFocus(scopeRef) {\n  var scope = $9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode($9bf71ea28793e738$var$activeScope);\n  while (scope && scope.scopeRef !== scopeRef) {\n    if (scope.nodeToRestore) return false;\n    scope = scope.parent;\n  }\n  return (scope === null || scope === void 0 ? void 0 : scope.scopeRef) === scopeRef;\n}\nfunction $9bf71ea28793e738$var$useRestoreFocus(scopeRef, restoreFocus, contain) {\n  var nodeToRestoreRef = (0, $cgawC$useRef)(typeof document !== \"undefined\" ? (0, $cgawC$getOwnerDocument)(scopeRef.current ? scopeRef.current[0] : undefined).activeElement : null);\n  (0, $cgawC$useLayoutEffect)(function () {\n    var scope = scopeRef.current;\n    var ownerDocument = (0, $cgawC$getOwnerDocument)(scope ? scope[0] : undefined);\n    if (!restoreFocus || contain) return;\n    var onFocus = function onFocus() {\n      if ((!$9bf71ea28793e738$var$activeScope || $9bf71ea28793e738$var$isAncestorScope($9bf71ea28793e738$var$activeScope, scopeRef)) && $9bf71ea28793e738$var$isElementInScope(ownerDocument.activeElement, scopeRef.current)) $9bf71ea28793e738$var$activeScope = scopeRef;\n    };\n    ownerDocument.addEventListener(\"focusin\", onFocus, false);\n    scope === null || scope === void 0 ? void 0 : scope.forEach(function (element) {\n      return element.addEventListener(\"focusin\", onFocus, false);\n    });\n    return function () {\n      ownerDocument.removeEventListener(\"focusin\", onFocus, false);\n      scope === null || scope === void 0 ? void 0 : scope.forEach(function (element) {\n        return element.removeEventListener(\"focusin\", onFocus, false);\n      });\n    };\n  }, [scopeRef, contain]);\n  (0, $cgawC$useLayoutEffect)(function () {\n    var ownerDocument = (0, $cgawC$getOwnerDocument)(scopeRef.current ? scopeRef.current[0] : undefined);\n    if (!restoreFocus) return;\n    var onKeyDown = function onKeyDown(e) {\n      if (e.key !== \"Tab\" || e.altKey || e.ctrlKey || e.metaKey || !$9bf71ea28793e738$var$shouldContainFocus(scopeRef) || e.isComposing) return;\n      var focusedElement = ownerDocument.activeElement;\n      if (!$9bf71ea28793e738$var$isElementInScope(focusedElement, scopeRef.current)) return;\n      var treeNode = $9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scopeRef);\n      if (!treeNode) return;\n      var nodeToRestore = treeNode.nodeToRestore;\n      var walker = $9bf71ea28793e738$export$2d6ec8fc375ceafa(ownerDocument.body, {\n        tabbable: true\n      });\n      walker.currentNode = focusedElement;\n      var nextElement = e.shiftKey ? walker.previousNode() : walker.nextNode();\n      if (!nodeToRestore || !ownerDocument.body.contains(nodeToRestore) || nodeToRestore === ownerDocument.body) {\n        nodeToRestore = undefined;\n        treeNode.nodeToRestore = undefined;\n      }\n      if ((!nextElement || !$9bf71ea28793e738$var$isElementInScope(nextElement, scopeRef.current)) && nodeToRestore) {\n        walker.currentNode = nodeToRestore;\n        do nextElement = e.shiftKey ? walker.previousNode() : walker.nextNode(); while ($9bf71ea28793e738$var$isElementInScope(nextElement, scopeRef.current));\n        e.preventDefault();\n        e.stopPropagation();\n        if (nextElement) $9bf71ea28793e738$var$focusElement(nextElement, true);else if (!$9bf71ea28793e738$var$isElementInAnyScope(nodeToRestore)) focusedElement.blur();else $9bf71ea28793e738$var$focusElement(nodeToRestore, true);\n      }\n    };\n    if (!contain) ownerDocument.addEventListener(\"keydown\", onKeyDown, true);\n    return function () {\n      if (!contain) ownerDocument.removeEventListener(\"keydown\", onKeyDown, true);\n    };\n  }, [scopeRef, restoreFocus, contain]);\n  (0, $cgawC$useLayoutEffect)(function () {\n    var ownerDocument = (0, $cgawC$getOwnerDocument)(scopeRef.current ? scopeRef.current[0] : undefined);\n    if (!restoreFocus) return;\n    var treeNode = $9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scopeRef);\n    if (!treeNode) return;\n    var _nodeToRestoreRef_current;\n    treeNode.nodeToRestore = (_nodeToRestoreRef_current = nodeToRestoreRef.current) !== null && _nodeToRestoreRef_current !== void 0 ? _nodeToRestoreRef_current : undefined;\n    return function () {\n      var treeNode = $9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scopeRef);\n      if (!treeNode) return;\n      var nodeToRestore = treeNode.nodeToRestore;\n      if (restoreFocus && nodeToRestore && ($9bf71ea28793e738$var$isElementInScope(ownerDocument.activeElement, scopeRef.current) || ownerDocument.activeElement === ownerDocument.body && $9bf71ea28793e738$var$shouldRestoreFocus(scopeRef))) {\n        var clonedTree = $9bf71ea28793e738$export$d06fae2ee68b101e.clone();\n        requestAnimationFrame(function () {\n          if (ownerDocument.activeElement === ownerDocument.body) {\n            var _treeNode = clonedTree.getTreeNode(scopeRef);\n            while (_treeNode) {\n              if (_treeNode.nodeToRestore && _treeNode.nodeToRestore.isConnected) {\n                $9bf71ea28793e738$var$focusElement(_treeNode.nodeToRestore);\n                return;\n              }\n              _treeNode = _treeNode.parent;\n            }\n            _treeNode = clonedTree.getTreeNode(scopeRef);\n            while (_treeNode) {\n              if (_treeNode.scopeRef && _treeNode.scopeRef.current && $9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(_treeNode.scopeRef)) {\n                $9bf71ea28793e738$var$focusFirstInScope(_treeNode.scopeRef.current, true);\n                return;\n              }\n              _treeNode = _treeNode.parent;\n            }\n          }\n        });\n      }\n    };\n  }, [scopeRef, restoreFocus]);\n}\nfunction $9bf71ea28793e738$export$2d6ec8fc375ceafa(root, opts, scope) {\n  var selector = (opts === null || opts === void 0 ? void 0 : opts.tabbable) ? $9bf71ea28793e738$var$TABBABLE_ELEMENT_SELECTOR : $9bf71ea28793e738$var$FOCUSABLE_ELEMENT_SELECTOR;\n  var walker = (0, $cgawC$getOwnerDocument)(root).createTreeWalker(root, NodeFilter.SHOW_ELEMENT, {\n    acceptNode: function acceptNode(node) {\n      var _opts_from;\n      if (opts === null || opts === void 0 ? void 0 : (_opts_from = opts.from) === null || _opts_from === void 0 ? void 0 : _opts_from.contains(node)) return NodeFilter.FILTER_REJECT;\n      if (node.matches(selector) && (0, $645f2e67b85a24c9$export$e989c0fffaa6b27a)(node) && (!scope || $9bf71ea28793e738$var$isElementInScope(node, scope)) && (!(opts === null || opts === void 0 ? void 0 : opts.accept) || opts.accept(node))) return NodeFilter.FILTER_ACCEPT;\n      return NodeFilter.FILTER_SKIP;\n    }\n  });\n  if (opts === null || opts === void 0 ? void 0 : opts.from) walker.currentNode = opts.from;\n  return walker;\n}\nfunction $9bf71ea28793e738$export$c5251b9e124bf29(ref) {\n  var defaultOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return {\n    focusNext: function focusNext() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var root = ref.current;\n      if (!root) return null;\n      var from = opts.from,\n        _opts$tabbable = opts.tabbable,\n        tabbable = _opts$tabbable === void 0 ? defaultOptions.tabbable : _opts$tabbable,\n        _opts$wrap = opts.wrap,\n        wrap = _opts$wrap === void 0 ? defaultOptions.wrap : _opts$wrap,\n        _opts$accept = opts.accept,\n        accept = _opts$accept === void 0 ? defaultOptions.accept : _opts$accept;\n      var node = from || (0, $cgawC$getOwnerDocument)(root).activeElement;\n      var walker = $9bf71ea28793e738$export$2d6ec8fc375ceafa(root, {\n        tabbable: tabbable,\n        accept: accept\n      });\n      if (root.contains(node)) walker.currentNode = node;\n      var nextNode = walker.nextNode();\n      if (!nextNode && wrap) {\n        walker.currentNode = root;\n        nextNode = walker.nextNode();\n      }\n      if (nextNode) $9bf71ea28793e738$var$focusElement(nextNode, true);\n      return nextNode;\n    },\n    focusPrevious: function focusPrevious() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultOptions;\n      var root = ref.current;\n      if (!root) return null;\n      var from = opts.from,\n        _opts$tabbable2 = opts.tabbable,\n        tabbable = _opts$tabbable2 === void 0 ? defaultOptions.tabbable : _opts$tabbable2,\n        _opts$wrap2 = opts.wrap,\n        wrap = _opts$wrap2 === void 0 ? defaultOptions.wrap : _opts$wrap2,\n        _opts$accept2 = opts.accept,\n        accept = _opts$accept2 === void 0 ? defaultOptions.accept : _opts$accept2;\n      var node = from || (0, $cgawC$getOwnerDocument)(root).activeElement;\n      var walker = $9bf71ea28793e738$export$2d6ec8fc375ceafa(root, {\n        tabbable: tabbable,\n        accept: accept\n      });\n      if (root.contains(node)) walker.currentNode = node;else {\n        var next = $9bf71ea28793e738$var$last(walker);\n        if (next) $9bf71ea28793e738$var$focusElement(next, true);\n        return next !== null && next !== void 0 ? next : null;\n      }\n      var previousNode = walker.previousNode();\n      if (!previousNode && wrap) {\n        walker.currentNode = root;\n        var lastNode = $9bf71ea28793e738$var$last(walker);\n        if (!lastNode) return null;\n        previousNode = lastNode;\n      }\n      if (previousNode) $9bf71ea28793e738$var$focusElement(previousNode, true);\n      return previousNode !== null && previousNode !== void 0 ? previousNode : null;\n    },\n    focusFirst: function focusFirst() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultOptions;\n      var root = ref.current;\n      if (!root) return null;\n      var _opts$tabbable3 = opts.tabbable,\n        tabbable = _opts$tabbable3 === void 0 ? defaultOptions.tabbable : _opts$tabbable3,\n        _opts$accept3 = opts.accept,\n        accept = _opts$accept3 === void 0 ? defaultOptions.accept : _opts$accept3;\n      var walker = $9bf71ea28793e738$export$2d6ec8fc375ceafa(root, {\n        tabbable: tabbable,\n        accept: accept\n      });\n      var nextNode = walker.nextNode();\n      if (nextNode) $9bf71ea28793e738$var$focusElement(nextNode, true);\n      return nextNode;\n    },\n    focusLast: function focusLast() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultOptions;\n      var root = ref.current;\n      if (!root) return null;\n      var _opts$tabbable4 = opts.tabbable,\n        tabbable = _opts$tabbable4 === void 0 ? defaultOptions.tabbable : _opts$tabbable4,\n        _opts$accept4 = opts.accept,\n        accept = _opts$accept4 === void 0 ? defaultOptions.accept : _opts$accept4;\n      var walker = $9bf71ea28793e738$export$2d6ec8fc375ceafa(root, {\n        tabbable: tabbable,\n        accept: accept\n      });\n      var next = $9bf71ea28793e738$var$last(walker);\n      if (next) $9bf71ea28793e738$var$focusElement(next, true);\n      return next !== null && next !== void 0 ? next : null;\n    }\n  };\n}\nfunction $9bf71ea28793e738$var$last(walker) {\n  var next = undefined;\n  var last;\n  do {\n    last = walker.lastChild();\n    if (last) next = last;\n  } while (last);\n  return next;\n}\nvar $9bf71ea28793e738$var$Tree = function () {\n  function $9bf71ea28793e738$var$Tree() {\n    _classCallCheck(this, $9bf71ea28793e738$var$Tree);\n    this.fastMap = new Map();\n    this.root = new $9bf71ea28793e738$var$TreeNode({\n      scopeRef: null\n    });\n    this.fastMap.set(null, this.root);\n  }\n  return _createClass($9bf71ea28793e738$var$Tree, [{\n    key: \"size\",\n    get: function get() {\n      return this.fastMap.size;\n    }\n  }, {\n    key: \"getTreeNode\",\n    value: function getTreeNode(data) {\n      return this.fastMap.get(data);\n    }\n  }, {\n    key: \"addTreeNode\",\n    value: function addTreeNode(scopeRef, parent, nodeToRestore) {\n      var parentNode = this.fastMap.get(parent !== null && parent !== void 0 ? parent : null);\n      if (!parentNode) return;\n      var node = new $9bf71ea28793e738$var$TreeNode({\n        scopeRef: scopeRef\n      });\n      parentNode.addChild(node);\n      node.parent = parentNode;\n      this.fastMap.set(scopeRef, node);\n      if (nodeToRestore) node.nodeToRestore = nodeToRestore;\n    }\n  }, {\n    key: \"addNode\",\n    value: function addNode(node) {\n      this.fastMap.set(node.scopeRef, node);\n    }\n  }, {\n    key: \"removeTreeNode\",\n    value: function removeTreeNode(scopeRef) {\n      if (scopeRef === null) return;\n      var node = this.fastMap.get(scopeRef);\n      if (!node) return;\n      var parentNode = node.parent;\n      for (var current of this.traverse()) if (current !== node && node.nodeToRestore && current.nodeToRestore && node.scopeRef && node.scopeRef.current && $9bf71ea28793e738$var$isElementInScope(current.nodeToRestore, node.scopeRef.current)) current.nodeToRestore = node.nodeToRestore;\n      var children = node.children;\n      if (parentNode) {\n        parentNode.removeChild(node);\n        if (children.size > 0) children.forEach(function (child) {\n          return parentNode && parentNode.addChild(child);\n        });\n      }\n      this.fastMap.delete(node.scopeRef);\n    }\n  }, {\n    key: \"traverse\",\n    value: function traverse() {\n      var _this = this;\n      var node = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.root;\n      return function* () {\n        if (node.scopeRef != null) yield node;\n        if (node.children.size > 0) for (var child of node.children) yield* _this.traverse(child);\n      }();\n    }\n  }, {\n    key: \"clone\",\n    value: function clone() {\n      var _node_parent;\n      var newTree = new $9bf71ea28793e738$var$Tree();\n      var _node_parent_scopeRef;\n      for (var node of this.traverse()) newTree.addTreeNode(node.scopeRef, (_node_parent_scopeRef = (_node_parent = node.parent) === null || _node_parent === void 0 ? void 0 : _node_parent.scopeRef) !== null && _node_parent_scopeRef !== void 0 ? _node_parent_scopeRef : null, node.nodeToRestore);\n      return newTree;\n    }\n  }]);\n}();\nvar $9bf71ea28793e738$var$TreeNode = function () {\n  function $9bf71ea28793e738$var$TreeNode(props) {\n    _classCallCheck(this, $9bf71ea28793e738$var$TreeNode);\n    this.children = new Set();\n    this.contain = false;\n    this.scopeRef = props.scopeRef;\n  }\n  return _createClass($9bf71ea28793e738$var$TreeNode, [{\n    key: \"addChild\",\n    value: function addChild(node) {\n      this.children.add(node);\n      node.parent = this;\n    }\n  }, {\n    key: \"removeChild\",\n    value: function removeChild(node) {\n      this.children.delete(node);\n      node.parent = undefined;\n    }\n  }]);\n}();\nvar $9bf71ea28793e738$export$d06fae2ee68b101e = new $9bf71ea28793e738$var$Tree();\nexport { $9bf71ea28793e738$export$20e40289641fbbb6 as FocusScope, $9bf71ea28793e738$export$d06fae2ee68b101e as focusScopeTree, $9bf71ea28793e738$export$10c5169755ce7bd7 as useFocusManager, $9bf71ea28793e738$export$2d6ec8fc375ceafa as getFocusableTreeWalker, $9bf71ea28793e738$export$4c063cf1350e6fed as isFocusable, $9bf71ea28793e738$export$1258395f99bf9cbf as isElementInChildOfActiveScope, $9bf71ea28793e738$export$c5251b9e124bf29 as createFocusManager };","map":{"version":3,"names":["focusSafely","$6a99195332edec8b$export$80f3e147d781571c","isElementVisible","$645f2e67b85a24c9$export$e989c0fffaa6b27a","useLayoutEffect","$cgawC$useLayoutEffect","getOwnerDocument","$cgawC$getOwnerDocument","$cgawC$react","useRef","$cgawC$useRef","useContext","$cgawC$useContext","useMemo","$cgawC$useMemo","useEffect","$cgawC$useEffect","$9bf71ea28793e738$var$FocusContext","createContext","$9bf71ea28793e738$var$activeScope","$9bf71ea28793e738$export$20e40289641fbbb6","props","children","contain","restoreFocus","autoFocus","startRef","endRef","scopeRef","_ref","parentNode","node","$9bf71ea28793e738$var$TreeNode","parent","$9bf71ea28793e738$export$d06fae2ee68b101e","root","getTreeNode","$9bf71ea28793e738$var$isAncestorScope","activeNode","addChild","addNode","_startRef_current","current","nextSibling","nodes","push","$9bf71ea28793e738$var$useActiveScopeTracker","$9bf71ea28793e738$var$useFocusContainment","$9bf71ea28793e738$var$useRestoreFocus","$9bf71ea28793e738$var$useAutoFocus","activeElement","undefined","scope","$9bf71ea28793e738$var$isElementInScope","traverse","_focusScopeTree_getTreeNode_parent","_focusScopeTree_getTreeNode","_focusScopeTree_getTreeNode_parent_scopeRef","parentScope","removeTreeNode","focusManager","$9bf71ea28793e738$var$createFocusManagerForScope","value","createElement","Provider","hidden","ref","$9bf71ea28793e738$export$10c5169755ce7bd7","_useContext","focusNext","opts","arguments","length","from","tabbable","wrap","accept","sentinel","previousElementSibling","scopeRoot","$9bf71ea28793e738$var$getScopeRoot","walker","$9bf71ea28793e738$export$2d6ec8fc375ceafa","currentNode","nextNode","$9bf71ea28793e738$var$focusElement","focusPrevious","nextElementSibling","previousNode","focusFirst","focusLast","$9bf71ea28793e738$var$focusableElements","$9bf71ea28793e738$var$FOCUSABLE_ELEMENT_SELECTOR","join","$9bf71ea28793e738$var$TABBABLE_ELEMENT_SELECTOR","$9bf71ea28793e738$export$4c063cf1350e6fed","element","matches","parentElement","$9bf71ea28793e738$var$shouldContainFocus","focusedNode","raf","cancelAnimationFrame","ownerDocument","onKeyDown","e","key","altKey","ctrlKey","metaKey","isComposing","focusedElement","nextElement","shiftKey","preventDefault","onFocus","target","$9bf71ea28793e738$var$isElementInChildScope","focus","$9bf71ea28793e738$var$focusFirstInScope","onBlur","requestAnimationFrame","body","contains","_focusedNode_current","addEventListener","forEach","removeEventListener","$9bf71ea28793e738$var$isElementInAnyScope","some","Element","closest","_ref2","s","$9bf71ea28793e738$export$1258395f99bf9cbf","ancestor","scroll","err","autoFocusRef","restore","$9bf71ea28793e738$var$shouldRestoreFocus","nodeToRestore","nodeToRestoreRef","document","treeNode","stopPropagation","blur","_nodeToRestoreRef_current","clonedTree","clone","isConnected","selector","createTreeWalker","NodeFilter","SHOW_ELEMENT","acceptNode","_opts_from","FILTER_REJECT","FILTER_ACCEPT","FILTER_SKIP","$9bf71ea28793e738$export$c5251b9e124bf29","defaultOptions","_opts$tabbable","_opts$wrap","_opts$accept","_opts$tabbable2","_opts$wrap2","_opts$accept2","next","$9bf71ea28793e738$var$last","lastNode","_opts$tabbable3","_opts$accept3","_opts$tabbable4","_opts$accept4","last","lastChild","$9bf71ea28793e738$var$Tree","_classCallCheck","fastMap","Map","set","_createClass","get","size","data","addTreeNode","removeChild","child","delete","_this","_node_parent","newTree","_node_parent_scopeRef","Set","add","FocusScope","focusScopeTree","useFocusManager","getFocusableTreeWalker","isFocusable","isElementInChildOfActiveScope","createFocusManager"],"sources":["D:/React Native/Expo+glustack/Music-App/node_modules/@react-aria/focus/dist/FocusScope.mjs"],"sourcesContent":["import {focusSafely as $6a99195332edec8b$export$80f3e147d781571c} from \"./focusSafely.mjs\";\nimport {isElementVisible as $645f2e67b85a24c9$export$e989c0fffaa6b27a} from \"./isElementVisible.mjs\";\nimport {useLayoutEffect as $cgawC$useLayoutEffect, getOwnerDocument as $cgawC$getOwnerDocument} from \"@react-aria/utils\";\nimport $cgawC$react, {useRef as $cgawC$useRef, useContext as $cgawC$useContext, useMemo as $cgawC$useMemo, useEffect as $cgawC$useEffect} from \"react\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \n\n\n\nconst $9bf71ea28793e738$var$FocusContext = /*#__PURE__*/ (0, $cgawC$react).createContext(null);\nlet $9bf71ea28793e738$var$activeScope = null;\nfunction $9bf71ea28793e738$export$20e40289641fbbb6(props) {\n    let { children: children, contain: contain, restoreFocus: restoreFocus, autoFocus: autoFocus } = props;\n    let startRef = (0, $cgawC$useRef)(null);\n    let endRef = (0, $cgawC$useRef)(null);\n    let scopeRef = (0, $cgawC$useRef)([]);\n    let { parentNode: parentNode } = (0, $cgawC$useContext)($9bf71ea28793e738$var$FocusContext) || {};\n    // Create a tree node here so we can add children to it even before it is added to the tree.\n    let node = (0, $cgawC$useMemo)(()=>new $9bf71ea28793e738$var$TreeNode({\n            scopeRef: scopeRef\n        }), [\n        scopeRef\n    ]);\n    (0, $cgawC$useLayoutEffect)(()=>{\n        // If a new scope mounts outside the active scope, (e.g. DialogContainer launched from a menu),\n        // use the active scope as the parent instead of the parent from context. Layout effects run bottom\n        // up, so if the parent is not yet added to the tree, don't do this. Only the outer-most FocusScope\n        // that is being added should get the activeScope as its parent.\n        let parent = parentNode || $9bf71ea28793e738$export$d06fae2ee68b101e.root;\n        if ($9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(parent.scopeRef) && $9bf71ea28793e738$var$activeScope && !$9bf71ea28793e738$var$isAncestorScope($9bf71ea28793e738$var$activeScope, parent.scopeRef)) {\n            let activeNode = $9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode($9bf71ea28793e738$var$activeScope);\n            if (activeNode) parent = activeNode;\n        }\n        // Add the node to the parent, and to the tree.\n        parent.addChild(node);\n        $9bf71ea28793e738$export$d06fae2ee68b101e.addNode(node);\n    }, [\n        node,\n        parentNode\n    ]);\n    (0, $cgawC$useLayoutEffect)(()=>{\n        let node = $9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scopeRef);\n        if (node) node.contain = !!contain;\n    }, [\n        contain\n    ]);\n    (0, $cgawC$useLayoutEffect)(()=>{\n        var _startRef_current;\n        // Find all rendered nodes between the sentinels and add them to the scope.\n        let node = (_startRef_current = startRef.current) === null || _startRef_current === void 0 ? void 0 : _startRef_current.nextSibling;\n        let nodes = [];\n        while(node && node !== endRef.current){\n            nodes.push(node);\n            node = node.nextSibling;\n        }\n        scopeRef.current = nodes;\n    }, [\n        children\n    ]);\n    $9bf71ea28793e738$var$useActiveScopeTracker(scopeRef, restoreFocus, contain);\n    $9bf71ea28793e738$var$useFocusContainment(scopeRef, contain);\n    $9bf71ea28793e738$var$useRestoreFocus(scopeRef, restoreFocus, contain);\n    $9bf71ea28793e738$var$useAutoFocus(scopeRef, autoFocus);\n    // This needs to be an effect so that activeScope is updated after the FocusScope tree is complete.\n    // It cannot be a useLayoutEffect because the parent of this node hasn't been attached in the tree yet.\n    (0, $cgawC$useEffect)(()=>{\n        const activeElement = (0, $cgawC$getOwnerDocument)(scopeRef.current ? scopeRef.current[0] : undefined).activeElement;\n        let scope = null;\n        if ($9bf71ea28793e738$var$isElementInScope(activeElement, scopeRef.current)) {\n            // We need to traverse the focusScope tree and find the bottom most scope that\n            // contains the active element and set that as the activeScope.\n            for (let node of $9bf71ea28793e738$export$d06fae2ee68b101e.traverse())if (node.scopeRef && $9bf71ea28793e738$var$isElementInScope(activeElement, node.scopeRef.current)) scope = node;\n            if (scope === $9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scopeRef)) $9bf71ea28793e738$var$activeScope = scope.scopeRef;\n        }\n    }, [\n        scopeRef\n    ]);\n    // This layout effect cleanup is so that the tree node is removed synchronously with react before the RAF\n    // in useRestoreFocus cleanup runs.\n    (0, $cgawC$useLayoutEffect)(()=>{\n        return ()=>{\n            var _focusScopeTree_getTreeNode_parent, _focusScopeTree_getTreeNode;\n            var _focusScopeTree_getTreeNode_parent_scopeRef;\n            // Scope may have been re-parented.\n            let parentScope = (_focusScopeTree_getTreeNode_parent_scopeRef = (_focusScopeTree_getTreeNode = $9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scopeRef)) === null || _focusScopeTree_getTreeNode === void 0 ? void 0 : (_focusScopeTree_getTreeNode_parent = _focusScopeTree_getTreeNode.parent) === null || _focusScopeTree_getTreeNode_parent === void 0 ? void 0 : _focusScopeTree_getTreeNode_parent.scopeRef) !== null && _focusScopeTree_getTreeNode_parent_scopeRef !== void 0 ? _focusScopeTree_getTreeNode_parent_scopeRef : null;\n            if ((scopeRef === $9bf71ea28793e738$var$activeScope || $9bf71ea28793e738$var$isAncestorScope(scopeRef, $9bf71ea28793e738$var$activeScope)) && (!parentScope || $9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(parentScope))) $9bf71ea28793e738$var$activeScope = parentScope;\n            $9bf71ea28793e738$export$d06fae2ee68b101e.removeTreeNode(scopeRef);\n        };\n    }, [\n        scopeRef\n    ]);\n    let focusManager = (0, $cgawC$useMemo)(()=>$9bf71ea28793e738$var$createFocusManagerForScope(scopeRef), []);\n    let value = (0, $cgawC$useMemo)(()=>({\n            focusManager: focusManager,\n            parentNode: node\n        }), [\n        node,\n        focusManager\n    ]);\n    return /*#__PURE__*/ (0, $cgawC$react).createElement($9bf71ea28793e738$var$FocusContext.Provider, {\n        value: value\n    }, /*#__PURE__*/ (0, $cgawC$react).createElement(\"span\", {\n        \"data-focus-scope-start\": true,\n        hidden: true,\n        ref: startRef\n    }), children, /*#__PURE__*/ (0, $cgawC$react).createElement(\"span\", {\n        \"data-focus-scope-end\": true,\n        hidden: true,\n        ref: endRef\n    }));\n}\nfunction $9bf71ea28793e738$export$10c5169755ce7bd7() {\n    var _useContext;\n    return (_useContext = (0, $cgawC$useContext)($9bf71ea28793e738$var$FocusContext)) === null || _useContext === void 0 ? void 0 : _useContext.focusManager;\n}\nfunction $9bf71ea28793e738$var$createFocusManagerForScope(scopeRef) {\n    return {\n        focusNext (opts = {}) {\n            let scope = scopeRef.current;\n            let { from: from, tabbable: tabbable, wrap: wrap, accept: accept } = opts;\n            let node = from || (0, $cgawC$getOwnerDocument)(scope[0]).activeElement;\n            let sentinel = scope[0].previousElementSibling;\n            let scopeRoot = $9bf71ea28793e738$var$getScopeRoot(scope);\n            let walker = $9bf71ea28793e738$export$2d6ec8fc375ceafa(scopeRoot, {\n                tabbable: tabbable,\n                accept: accept\n            }, scope);\n            walker.currentNode = $9bf71ea28793e738$var$isElementInScope(node, scope) ? node : sentinel;\n            let nextNode = walker.nextNode();\n            if (!nextNode && wrap) {\n                walker.currentNode = sentinel;\n                nextNode = walker.nextNode();\n            }\n            if (nextNode) $9bf71ea28793e738$var$focusElement(nextNode, true);\n            return nextNode;\n        },\n        focusPrevious (opts = {}) {\n            let scope = scopeRef.current;\n            let { from: from, tabbable: tabbable, wrap: wrap, accept: accept } = opts;\n            let node = from || (0, $cgawC$getOwnerDocument)(scope[0]).activeElement;\n            let sentinel = scope[scope.length - 1].nextElementSibling;\n            let scopeRoot = $9bf71ea28793e738$var$getScopeRoot(scope);\n            let walker = $9bf71ea28793e738$export$2d6ec8fc375ceafa(scopeRoot, {\n                tabbable: tabbable,\n                accept: accept\n            }, scope);\n            walker.currentNode = $9bf71ea28793e738$var$isElementInScope(node, scope) ? node : sentinel;\n            let previousNode = walker.previousNode();\n            if (!previousNode && wrap) {\n                walker.currentNode = sentinel;\n                previousNode = walker.previousNode();\n            }\n            if (previousNode) $9bf71ea28793e738$var$focusElement(previousNode, true);\n            return previousNode;\n        },\n        focusFirst (opts = {}) {\n            let scope = scopeRef.current;\n            let { tabbable: tabbable, accept: accept } = opts;\n            let scopeRoot = $9bf71ea28793e738$var$getScopeRoot(scope);\n            let walker = $9bf71ea28793e738$export$2d6ec8fc375ceafa(scopeRoot, {\n                tabbable: tabbable,\n                accept: accept\n            }, scope);\n            walker.currentNode = scope[0].previousElementSibling;\n            let nextNode = walker.nextNode();\n            if (nextNode) $9bf71ea28793e738$var$focusElement(nextNode, true);\n            return nextNode;\n        },\n        focusLast (opts = {}) {\n            let scope = scopeRef.current;\n            let { tabbable: tabbable, accept: accept } = opts;\n            let scopeRoot = $9bf71ea28793e738$var$getScopeRoot(scope);\n            let walker = $9bf71ea28793e738$export$2d6ec8fc375ceafa(scopeRoot, {\n                tabbable: tabbable,\n                accept: accept\n            }, scope);\n            walker.currentNode = scope[scope.length - 1].nextElementSibling;\n            let previousNode = walker.previousNode();\n            if (previousNode) $9bf71ea28793e738$var$focusElement(previousNode, true);\n            return previousNode;\n        }\n    };\n}\nconst $9bf71ea28793e738$var$focusableElements = [\n    \"input:not([disabled]):not([type=hidden])\",\n    \"select:not([disabled])\",\n    \"textarea:not([disabled])\",\n    \"button:not([disabled])\",\n    \"a[href]\",\n    \"area[href]\",\n    \"summary\",\n    \"iframe\",\n    \"object\",\n    \"embed\",\n    \"audio[controls]\",\n    \"video[controls]\",\n    \"[contenteditable]\"\n];\nconst $9bf71ea28793e738$var$FOCUSABLE_ELEMENT_SELECTOR = $9bf71ea28793e738$var$focusableElements.join(\":not([hidden]),\") + \",[tabindex]:not([disabled]):not([hidden])\";\n$9bf71ea28793e738$var$focusableElements.push('[tabindex]:not([tabindex=\"-1\"]):not([disabled])');\nconst $9bf71ea28793e738$var$TABBABLE_ELEMENT_SELECTOR = $9bf71ea28793e738$var$focusableElements.join(':not([hidden]):not([tabindex=\"-1\"]),');\nfunction $9bf71ea28793e738$export$4c063cf1350e6fed(element) {\n    return element.matches($9bf71ea28793e738$var$FOCUSABLE_ELEMENT_SELECTOR);\n}\nfunction $9bf71ea28793e738$var$getScopeRoot(scope) {\n    return scope[0].parentElement;\n}\nfunction $9bf71ea28793e738$var$shouldContainFocus(scopeRef) {\n    let scope = $9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode($9bf71ea28793e738$var$activeScope);\n    while(scope && scope.scopeRef !== scopeRef){\n        if (scope.contain) return false;\n        scope = scope.parent;\n    }\n    return true;\n}\nfunction $9bf71ea28793e738$var$useFocusContainment(scopeRef, contain) {\n    let focusedNode = (0, $cgawC$useRef)();\n    let raf = (0, $cgawC$useRef)();\n    (0, $cgawC$useLayoutEffect)(()=>{\n        let scope = scopeRef.current;\n        if (!contain) {\n            // if contain was changed, then we should cancel any ongoing waits to pull focus back into containment\n            if (raf.current) {\n                cancelAnimationFrame(raf.current);\n                raf.current = undefined;\n            }\n            return;\n        }\n        const ownerDocument = (0, $cgawC$getOwnerDocument)(scope ? scope[0] : undefined);\n        // Handle the Tab key to contain focus within the scope\n        let onKeyDown = (e)=>{\n            if (e.key !== \"Tab\" || e.altKey || e.ctrlKey || e.metaKey || !$9bf71ea28793e738$var$shouldContainFocus(scopeRef) || e.isComposing) return;\n            let focusedElement = ownerDocument.activeElement;\n            let scope = scopeRef.current;\n            if (!scope || !$9bf71ea28793e738$var$isElementInScope(focusedElement, scope)) return;\n            let scopeRoot = $9bf71ea28793e738$var$getScopeRoot(scope);\n            let walker = $9bf71ea28793e738$export$2d6ec8fc375ceafa(scopeRoot, {\n                tabbable: true\n            }, scope);\n            if (!focusedElement) return;\n            walker.currentNode = focusedElement;\n            let nextElement = e.shiftKey ? walker.previousNode() : walker.nextNode();\n            if (!nextElement) {\n                walker.currentNode = e.shiftKey ? scope[scope.length - 1].nextElementSibling : scope[0].previousElementSibling;\n                nextElement = e.shiftKey ? walker.previousNode() : walker.nextNode();\n            }\n            e.preventDefault();\n            if (nextElement) $9bf71ea28793e738$var$focusElement(nextElement, true);\n        };\n        let onFocus = (e)=>{\n            // If focusing an element in a child scope of the currently active scope, the child becomes active.\n            // Moving out of the active scope to an ancestor is not allowed.\n            if ((!$9bf71ea28793e738$var$activeScope || $9bf71ea28793e738$var$isAncestorScope($9bf71ea28793e738$var$activeScope, scopeRef)) && $9bf71ea28793e738$var$isElementInScope(e.target, scopeRef.current)) {\n                $9bf71ea28793e738$var$activeScope = scopeRef;\n                focusedNode.current = e.target;\n            } else if ($9bf71ea28793e738$var$shouldContainFocus(scopeRef) && !$9bf71ea28793e738$var$isElementInChildScope(e.target, scopeRef)) {\n                // If a focus event occurs outside the active scope (e.g. user tabs from browser location bar),\n                // restore focus to the previously focused node or the first tabbable element in the active scope.\n                if (focusedNode.current) focusedNode.current.focus();\n                else if ($9bf71ea28793e738$var$activeScope && $9bf71ea28793e738$var$activeScope.current) $9bf71ea28793e738$var$focusFirstInScope($9bf71ea28793e738$var$activeScope.current);\n            } else if ($9bf71ea28793e738$var$shouldContainFocus(scopeRef)) focusedNode.current = e.target;\n        };\n        let onBlur = (e)=>{\n            // Firefox doesn't shift focus back to the Dialog properly without this\n            if (raf.current) cancelAnimationFrame(raf.current);\n            raf.current = requestAnimationFrame(()=>{\n                // Use document.activeElement instead of e.relatedTarget so we can tell if user clicked into iframe\n                if (ownerDocument.activeElement && $9bf71ea28793e738$var$shouldContainFocus(scopeRef) && !$9bf71ea28793e738$var$isElementInChildScope(ownerDocument.activeElement, scopeRef)) {\n                    $9bf71ea28793e738$var$activeScope = scopeRef;\n                    if (ownerDocument.body.contains(e.target)) {\n                        var _focusedNode_current;\n                        focusedNode.current = e.target;\n                        (_focusedNode_current = focusedNode.current) === null || _focusedNode_current === void 0 ? void 0 : _focusedNode_current.focus();\n                    } else if ($9bf71ea28793e738$var$activeScope.current) $9bf71ea28793e738$var$focusFirstInScope($9bf71ea28793e738$var$activeScope.current);\n                }\n            });\n        };\n        ownerDocument.addEventListener(\"keydown\", onKeyDown, false);\n        ownerDocument.addEventListener(\"focusin\", onFocus, false);\n        scope === null || scope === void 0 ? void 0 : scope.forEach((element)=>element.addEventListener(\"focusin\", onFocus, false));\n        scope === null || scope === void 0 ? void 0 : scope.forEach((element)=>element.addEventListener(\"focusout\", onBlur, false));\n        return ()=>{\n            ownerDocument.removeEventListener(\"keydown\", onKeyDown, false);\n            ownerDocument.removeEventListener(\"focusin\", onFocus, false);\n            scope === null || scope === void 0 ? void 0 : scope.forEach((element)=>element.removeEventListener(\"focusin\", onFocus, false));\n            scope === null || scope === void 0 ? void 0 : scope.forEach((element)=>element.removeEventListener(\"focusout\", onBlur, false));\n        };\n    }, [\n        scopeRef,\n        contain\n    ]);\n    // This is a useLayoutEffect so it is guaranteed to run before our async synthetic blur\n    // eslint-disable-next-line arrow-body-style\n    (0, $cgawC$useLayoutEffect)(()=>{\n        return ()=>{\n            if (raf.current) cancelAnimationFrame(raf.current);\n        };\n    }, [\n        raf\n    ]);\n}\nfunction $9bf71ea28793e738$var$isElementInAnyScope(element) {\n    return $9bf71ea28793e738$var$isElementInChildScope(element);\n}\nfunction $9bf71ea28793e738$var$isElementInScope(element, scope) {\n    if (!element) return false;\n    if (!scope) return false;\n    return scope.some((node)=>node.contains(element));\n}\nfunction $9bf71ea28793e738$var$isElementInChildScope(element, scope = null) {\n    // If the element is within a top layer element (e.g. toasts), always allow moving focus there.\n    if (element instanceof Element && element.closest(\"[data-react-aria-top-layer]\")) return true;\n    // node.contains in isElementInScope covers child scopes that are also DOM children,\n    // but does not cover child scopes in portals.\n    for (let { scopeRef: s } of $9bf71ea28793e738$export$d06fae2ee68b101e.traverse($9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scope))){\n        if (s && $9bf71ea28793e738$var$isElementInScope(element, s.current)) return true;\n    }\n    return false;\n}\nfunction $9bf71ea28793e738$export$1258395f99bf9cbf(element) {\n    return $9bf71ea28793e738$var$isElementInChildScope(element, $9bf71ea28793e738$var$activeScope);\n}\nfunction $9bf71ea28793e738$var$isAncestorScope(ancestor, scope) {\n    var _focusScopeTree_getTreeNode;\n    let parent = (_focusScopeTree_getTreeNode = $9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scope)) === null || _focusScopeTree_getTreeNode === void 0 ? void 0 : _focusScopeTree_getTreeNode.parent;\n    while(parent){\n        if (parent.scopeRef === ancestor) return true;\n        parent = parent.parent;\n    }\n    return false;\n}\nfunction $9bf71ea28793e738$var$focusElement(element, scroll = false) {\n    if (element != null && !scroll) try {\n        (0, $6a99195332edec8b$export$80f3e147d781571c)(element);\n    } catch (err) {\n    // ignore\n    }\n    else if (element != null) try {\n        element.focus();\n    } catch (err) {\n    // ignore\n    }\n}\nfunction $9bf71ea28793e738$var$focusFirstInScope(scope, tabbable = true) {\n    let sentinel = scope[0].previousElementSibling;\n    let scopeRoot = $9bf71ea28793e738$var$getScopeRoot(scope);\n    let walker = $9bf71ea28793e738$export$2d6ec8fc375ceafa(scopeRoot, {\n        tabbable: tabbable\n    }, scope);\n    walker.currentNode = sentinel;\n    let nextNode = walker.nextNode();\n    // If the scope does not contain a tabbable element, use the first focusable element.\n    if (tabbable && !nextNode) {\n        scopeRoot = $9bf71ea28793e738$var$getScopeRoot(scope);\n        walker = $9bf71ea28793e738$export$2d6ec8fc375ceafa(scopeRoot, {\n            tabbable: false\n        }, scope);\n        walker.currentNode = sentinel;\n        nextNode = walker.nextNode();\n    }\n    $9bf71ea28793e738$var$focusElement(nextNode);\n}\nfunction $9bf71ea28793e738$var$useAutoFocus(scopeRef, autoFocus) {\n    const autoFocusRef = (0, $cgawC$react).useRef(autoFocus);\n    (0, $cgawC$useEffect)(()=>{\n        if (autoFocusRef.current) {\n            $9bf71ea28793e738$var$activeScope = scopeRef;\n            const ownerDocument = (0, $cgawC$getOwnerDocument)(scopeRef.current ? scopeRef.current[0] : undefined);\n            if (!$9bf71ea28793e738$var$isElementInScope(ownerDocument.activeElement, $9bf71ea28793e738$var$activeScope.current) && scopeRef.current) $9bf71ea28793e738$var$focusFirstInScope(scopeRef.current);\n        }\n        autoFocusRef.current = false;\n    }, [\n        scopeRef\n    ]);\n}\nfunction $9bf71ea28793e738$var$useActiveScopeTracker(scopeRef, restore, contain) {\n    // tracks the active scope, in case restore and contain are both false.\n    // if either are true, this is tracked in useRestoreFocus or useFocusContainment.\n    (0, $cgawC$useLayoutEffect)(()=>{\n        if (restore || contain) return;\n        let scope = scopeRef.current;\n        const ownerDocument = (0, $cgawC$getOwnerDocument)(scope ? scope[0] : undefined);\n        let onFocus = (e)=>{\n            let target = e.target;\n            if ($9bf71ea28793e738$var$isElementInScope(target, scopeRef.current)) $9bf71ea28793e738$var$activeScope = scopeRef;\n            else if (!$9bf71ea28793e738$var$isElementInAnyScope(target)) $9bf71ea28793e738$var$activeScope = null;\n        };\n        ownerDocument.addEventListener(\"focusin\", onFocus, false);\n        scope === null || scope === void 0 ? void 0 : scope.forEach((element)=>element.addEventListener(\"focusin\", onFocus, false));\n        return ()=>{\n            ownerDocument.removeEventListener(\"focusin\", onFocus, false);\n            scope === null || scope === void 0 ? void 0 : scope.forEach((element)=>element.removeEventListener(\"focusin\", onFocus, false));\n        };\n    }, [\n        scopeRef,\n        restore,\n        contain\n    ]);\n}\nfunction $9bf71ea28793e738$var$shouldRestoreFocus(scopeRef) {\n    let scope = $9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode($9bf71ea28793e738$var$activeScope);\n    while(scope && scope.scopeRef !== scopeRef){\n        if (scope.nodeToRestore) return false;\n        scope = scope.parent;\n    }\n    return (scope === null || scope === void 0 ? void 0 : scope.scopeRef) === scopeRef;\n}\nfunction $9bf71ea28793e738$var$useRestoreFocus(scopeRef, restoreFocus, contain) {\n    // create a ref during render instead of useLayoutEffect so the active element is saved before a child with autoFocus=true mounts.\n    // eslint-disable-next-line no-restricted-globals\n    const nodeToRestoreRef = (0, $cgawC$useRef)(typeof document !== \"undefined\" ? (0, $cgawC$getOwnerDocument)(scopeRef.current ? scopeRef.current[0] : undefined).activeElement : null);\n    // restoring scopes should all track if they are active regardless of contain, but contain already tracks it plus logic to contain the focus\n    // restoring-non-containing scopes should only care if they become active so they can perform the restore\n    (0, $cgawC$useLayoutEffect)(()=>{\n        let scope = scopeRef.current;\n        const ownerDocument = (0, $cgawC$getOwnerDocument)(scope ? scope[0] : undefined);\n        if (!restoreFocus || contain) return;\n        let onFocus = ()=>{\n            // If focusing an element in a child scope of the currently active scope, the child becomes active.\n            // Moving out of the active scope to an ancestor is not allowed.\n            if ((!$9bf71ea28793e738$var$activeScope || $9bf71ea28793e738$var$isAncestorScope($9bf71ea28793e738$var$activeScope, scopeRef)) && $9bf71ea28793e738$var$isElementInScope(ownerDocument.activeElement, scopeRef.current)) $9bf71ea28793e738$var$activeScope = scopeRef;\n        };\n        ownerDocument.addEventListener(\"focusin\", onFocus, false);\n        scope === null || scope === void 0 ? void 0 : scope.forEach((element)=>element.addEventListener(\"focusin\", onFocus, false));\n        return ()=>{\n            ownerDocument.removeEventListener(\"focusin\", onFocus, false);\n            scope === null || scope === void 0 ? void 0 : scope.forEach((element)=>element.removeEventListener(\"focusin\", onFocus, false));\n        };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        scopeRef,\n        contain\n    ]);\n    (0, $cgawC$useLayoutEffect)(()=>{\n        const ownerDocument = (0, $cgawC$getOwnerDocument)(scopeRef.current ? scopeRef.current[0] : undefined);\n        if (!restoreFocus) return;\n        // Handle the Tab key so that tabbing out of the scope goes to the next element\n        // after the node that had focus when the scope mounted. This is important when\n        // using portals for overlays, so that focus goes to the expected element when\n        // tabbing out of the overlay.\n        let onKeyDown = (e)=>{\n            if (e.key !== \"Tab\" || e.altKey || e.ctrlKey || e.metaKey || !$9bf71ea28793e738$var$shouldContainFocus(scopeRef) || e.isComposing) return;\n            let focusedElement = ownerDocument.activeElement;\n            if (!$9bf71ea28793e738$var$isElementInScope(focusedElement, scopeRef.current)) return;\n            let treeNode = $9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scopeRef);\n            if (!treeNode) return;\n            let nodeToRestore = treeNode.nodeToRestore;\n            // Create a DOM tree walker that matches all tabbable elements\n            let walker = $9bf71ea28793e738$export$2d6ec8fc375ceafa(ownerDocument.body, {\n                tabbable: true\n            });\n            // Find the next tabbable element after the currently focused element\n            walker.currentNode = focusedElement;\n            let nextElement = e.shiftKey ? walker.previousNode() : walker.nextNode();\n            if (!nodeToRestore || !ownerDocument.body.contains(nodeToRestore) || nodeToRestore === ownerDocument.body) {\n                nodeToRestore = undefined;\n                treeNode.nodeToRestore = undefined;\n            }\n            // If there is no next element, or it is outside the current scope, move focus to the\n            // next element after the node to restore to instead.\n            if ((!nextElement || !$9bf71ea28793e738$var$isElementInScope(nextElement, scopeRef.current)) && nodeToRestore) {\n                walker.currentNode = nodeToRestore;\n                // Skip over elements within the scope, in case the scope immediately follows the node to restore.\n                do nextElement = e.shiftKey ? walker.previousNode() : walker.nextNode();\n                while ($9bf71ea28793e738$var$isElementInScope(nextElement, scopeRef.current));\n                e.preventDefault();\n                e.stopPropagation();\n                if (nextElement) $9bf71ea28793e738$var$focusElement(nextElement, true);\n                else // If there is no next element and the nodeToRestore isn't within a FocusScope (i.e. we are leaving the top level focus scope)\n                // then move focus to the body.\n                // Otherwise restore focus to the nodeToRestore (e.g menu within a popover -> tabbing to close the menu should move focus to menu trigger)\n                if (!$9bf71ea28793e738$var$isElementInAnyScope(nodeToRestore)) focusedElement.blur();\n                else $9bf71ea28793e738$var$focusElement(nodeToRestore, true);\n            }\n        };\n        if (!contain) ownerDocument.addEventListener(\"keydown\", onKeyDown, true);\n        return ()=>{\n            if (!contain) ownerDocument.removeEventListener(\"keydown\", onKeyDown, true);\n        };\n    }, [\n        scopeRef,\n        restoreFocus,\n        contain\n    ]);\n    // useLayoutEffect instead of useEffect so the active element is saved synchronously instead of asynchronously.\n    (0, $cgawC$useLayoutEffect)(()=>{\n        const ownerDocument = (0, $cgawC$getOwnerDocument)(scopeRef.current ? scopeRef.current[0] : undefined);\n        if (!restoreFocus) return;\n        let treeNode = $9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scopeRef);\n        if (!treeNode) return;\n        var _nodeToRestoreRef_current;\n        treeNode.nodeToRestore = (_nodeToRestoreRef_current = nodeToRestoreRef.current) !== null && _nodeToRestoreRef_current !== void 0 ? _nodeToRestoreRef_current : undefined;\n        return ()=>{\n            let treeNode = $9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(scopeRef);\n            if (!treeNode) return;\n            let nodeToRestore = treeNode.nodeToRestore;\n            // if we already lost focus to the body and this was the active scope, then we should attempt to restore\n            if (restoreFocus && nodeToRestore && // eslint-disable-next-line react-hooks/exhaustive-deps\n            ($9bf71ea28793e738$var$isElementInScope(ownerDocument.activeElement, scopeRef.current) || ownerDocument.activeElement === ownerDocument.body && $9bf71ea28793e738$var$shouldRestoreFocus(scopeRef))) {\n                // freeze the focusScopeTree so it persists after the raf, otherwise during unmount nodes are removed from it\n                let clonedTree = $9bf71ea28793e738$export$d06fae2ee68b101e.clone();\n                requestAnimationFrame(()=>{\n                    // Only restore focus if we've lost focus to the body, the alternative is that focus has been purposefully moved elsewhere\n                    if (ownerDocument.activeElement === ownerDocument.body) {\n                        // look up the tree starting with our scope to find a nodeToRestore still in the DOM\n                        let treeNode = clonedTree.getTreeNode(scopeRef);\n                        while(treeNode){\n                            if (treeNode.nodeToRestore && treeNode.nodeToRestore.isConnected) {\n                                $9bf71ea28793e738$var$focusElement(treeNode.nodeToRestore);\n                                return;\n                            }\n                            treeNode = treeNode.parent;\n                        }\n                        // If no nodeToRestore was found, focus the first element in the nearest\n                        // ancestor scope that is still in the tree.\n                        treeNode = clonedTree.getTreeNode(scopeRef);\n                        while(treeNode){\n                            if (treeNode.scopeRef && treeNode.scopeRef.current && $9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(treeNode.scopeRef)) {\n                                $9bf71ea28793e738$var$focusFirstInScope(treeNode.scopeRef.current, true);\n                                return;\n                            }\n                            treeNode = treeNode.parent;\n                        }\n                    }\n                });\n            }\n        };\n    }, [\n        scopeRef,\n        restoreFocus\n    ]);\n}\nfunction $9bf71ea28793e738$export$2d6ec8fc375ceafa(root, opts, scope) {\n    let selector = (opts === null || opts === void 0 ? void 0 : opts.tabbable) ? $9bf71ea28793e738$var$TABBABLE_ELEMENT_SELECTOR : $9bf71ea28793e738$var$FOCUSABLE_ELEMENT_SELECTOR;\n    let walker = (0, $cgawC$getOwnerDocument)(root).createTreeWalker(root, NodeFilter.SHOW_ELEMENT, {\n        acceptNode (node) {\n            var _opts_from;\n            // Skip nodes inside the starting node.\n            if (opts === null || opts === void 0 ? void 0 : (_opts_from = opts.from) === null || _opts_from === void 0 ? void 0 : _opts_from.contains(node)) return NodeFilter.FILTER_REJECT;\n            if (node.matches(selector) && (0, $645f2e67b85a24c9$export$e989c0fffaa6b27a)(node) && (!scope || $9bf71ea28793e738$var$isElementInScope(node, scope)) && (!(opts === null || opts === void 0 ? void 0 : opts.accept) || opts.accept(node))) return NodeFilter.FILTER_ACCEPT;\n            return NodeFilter.FILTER_SKIP;\n        }\n    });\n    if (opts === null || opts === void 0 ? void 0 : opts.from) walker.currentNode = opts.from;\n    return walker;\n}\nfunction $9bf71ea28793e738$export$c5251b9e124bf29(ref, defaultOptions = {}) {\n    return {\n        focusNext (opts = {}) {\n            let root = ref.current;\n            if (!root) return null;\n            let { from: from, tabbable: tabbable = defaultOptions.tabbable, wrap: wrap = defaultOptions.wrap, accept: accept = defaultOptions.accept } = opts;\n            let node = from || (0, $cgawC$getOwnerDocument)(root).activeElement;\n            let walker = $9bf71ea28793e738$export$2d6ec8fc375ceafa(root, {\n                tabbable: tabbable,\n                accept: accept\n            });\n            if (root.contains(node)) walker.currentNode = node;\n            let nextNode = walker.nextNode();\n            if (!nextNode && wrap) {\n                walker.currentNode = root;\n                nextNode = walker.nextNode();\n            }\n            if (nextNode) $9bf71ea28793e738$var$focusElement(nextNode, true);\n            return nextNode;\n        },\n        focusPrevious (opts = defaultOptions) {\n            let root = ref.current;\n            if (!root) return null;\n            let { from: from, tabbable: tabbable = defaultOptions.tabbable, wrap: wrap = defaultOptions.wrap, accept: accept = defaultOptions.accept } = opts;\n            let node = from || (0, $cgawC$getOwnerDocument)(root).activeElement;\n            let walker = $9bf71ea28793e738$export$2d6ec8fc375ceafa(root, {\n                tabbable: tabbable,\n                accept: accept\n            });\n            if (root.contains(node)) walker.currentNode = node;\n            else {\n                let next = $9bf71ea28793e738$var$last(walker);\n                if (next) $9bf71ea28793e738$var$focusElement(next, true);\n                return next !== null && next !== void 0 ? next : null;\n            }\n            let previousNode = walker.previousNode();\n            if (!previousNode && wrap) {\n                walker.currentNode = root;\n                let lastNode = $9bf71ea28793e738$var$last(walker);\n                if (!lastNode) // couldn't wrap\n                return null;\n                previousNode = lastNode;\n            }\n            if (previousNode) $9bf71ea28793e738$var$focusElement(previousNode, true);\n            return previousNode !== null && previousNode !== void 0 ? previousNode : null;\n        },\n        focusFirst (opts = defaultOptions) {\n            let root = ref.current;\n            if (!root) return null;\n            let { tabbable: tabbable = defaultOptions.tabbable, accept: accept = defaultOptions.accept } = opts;\n            let walker = $9bf71ea28793e738$export$2d6ec8fc375ceafa(root, {\n                tabbable: tabbable,\n                accept: accept\n            });\n            let nextNode = walker.nextNode();\n            if (nextNode) $9bf71ea28793e738$var$focusElement(nextNode, true);\n            return nextNode;\n        },\n        focusLast (opts = defaultOptions) {\n            let root = ref.current;\n            if (!root) return null;\n            let { tabbable: tabbable = defaultOptions.tabbable, accept: accept = defaultOptions.accept } = opts;\n            let walker = $9bf71ea28793e738$export$2d6ec8fc375ceafa(root, {\n                tabbable: tabbable,\n                accept: accept\n            });\n            let next = $9bf71ea28793e738$var$last(walker);\n            if (next) $9bf71ea28793e738$var$focusElement(next, true);\n            return next !== null && next !== void 0 ? next : null;\n        }\n    };\n}\nfunction $9bf71ea28793e738$var$last(walker) {\n    let next = undefined;\n    let last;\n    do {\n        last = walker.lastChild();\n        if (last) next = last;\n    }while (last);\n    return next;\n}\nclass $9bf71ea28793e738$var$Tree {\n    get size() {\n        return this.fastMap.size;\n    }\n    getTreeNode(data) {\n        return this.fastMap.get(data);\n    }\n    addTreeNode(scopeRef, parent, nodeToRestore) {\n        let parentNode = this.fastMap.get(parent !== null && parent !== void 0 ? parent : null);\n        if (!parentNode) return;\n        let node = new $9bf71ea28793e738$var$TreeNode({\n            scopeRef: scopeRef\n        });\n        parentNode.addChild(node);\n        node.parent = parentNode;\n        this.fastMap.set(scopeRef, node);\n        if (nodeToRestore) node.nodeToRestore = nodeToRestore;\n    }\n    addNode(node) {\n        this.fastMap.set(node.scopeRef, node);\n    }\n    removeTreeNode(scopeRef) {\n        // never remove the root\n        if (scopeRef === null) return;\n        let node = this.fastMap.get(scopeRef);\n        if (!node) return;\n        let parentNode = node.parent;\n        // when we remove a scope, check if any sibling scopes are trying to restore focus to something inside the scope we're removing\n        // if we are, then replace the siblings restore with the restore from the scope we're removing\n        for (let current of this.traverse())if (current !== node && node.nodeToRestore && current.nodeToRestore && node.scopeRef && node.scopeRef.current && $9bf71ea28793e738$var$isElementInScope(current.nodeToRestore, node.scopeRef.current)) current.nodeToRestore = node.nodeToRestore;\n        let children = node.children;\n        if (parentNode) {\n            parentNode.removeChild(node);\n            if (children.size > 0) children.forEach((child)=>parentNode && parentNode.addChild(child));\n        }\n        this.fastMap.delete(node.scopeRef);\n    }\n    // Pre Order Depth First\n    *traverse(node = this.root) {\n        if (node.scopeRef != null) yield node;\n        if (node.children.size > 0) for (let child of node.children)yield* this.traverse(child);\n    }\n    clone() {\n        var _node_parent;\n        let newTree = new $9bf71ea28793e738$var$Tree();\n        var _node_parent_scopeRef;\n        for (let node of this.traverse())newTree.addTreeNode(node.scopeRef, (_node_parent_scopeRef = (_node_parent = node.parent) === null || _node_parent === void 0 ? void 0 : _node_parent.scopeRef) !== null && _node_parent_scopeRef !== void 0 ? _node_parent_scopeRef : null, node.nodeToRestore);\n        return newTree;\n    }\n    constructor(){\n        this.fastMap = new Map();\n        this.root = new $9bf71ea28793e738$var$TreeNode({\n            scopeRef: null\n        });\n        this.fastMap.set(null, this.root);\n    }\n}\nclass $9bf71ea28793e738$var$TreeNode {\n    addChild(node) {\n        this.children.add(node);\n        node.parent = this;\n    }\n    removeChild(node) {\n        this.children.delete(node);\n        node.parent = undefined;\n    }\n    constructor(props){\n        this.children = new Set();\n        this.contain = false;\n        this.scopeRef = props.scopeRef;\n    }\n}\nlet $9bf71ea28793e738$export$d06fae2ee68b101e = new $9bf71ea28793e738$var$Tree();\n\n\nexport {$9bf71ea28793e738$export$20e40289641fbbb6 as FocusScope, $9bf71ea28793e738$export$d06fae2ee68b101e as focusScopeTree, $9bf71ea28793e738$export$10c5169755ce7bd7 as useFocusManager, $9bf71ea28793e738$export$2d6ec8fc375ceafa as getFocusableTreeWalker, $9bf71ea28793e738$export$4c063cf1350e6fed as isFocusable, $9bf71ea28793e738$export$1258395f99bf9cbf as isElementInChildOfActiveScope, $9bf71ea28793e738$export$c5251b9e124bf29 as createFocusManager};\n//# sourceMappingURL=FocusScope.mjs.map\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}