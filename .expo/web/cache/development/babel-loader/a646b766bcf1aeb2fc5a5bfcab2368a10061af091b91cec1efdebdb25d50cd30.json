{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nvar $5e3802645cc19319$var$refCountMap = new WeakMap();\nvar $5e3802645cc19319$var$observerStack = [];\nfunction $5e3802645cc19319$export$1c3ebcada18427bf(targets) {\n  var root = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document.body;\n  var visibleNodes = new Set(targets);\n  var hiddenNodes = new Set();\n  var walk = function walk(root) {\n    for (var element of root.querySelectorAll(\"[data-live-announcer], [data-react-aria-top-layer]\")) visibleNodes.add(element);\n    var acceptNode = function acceptNode(node) {\n      if (visibleNodes.has(node) || hiddenNodes.has(node.parentElement) && node.parentElement.getAttribute(\"role\") !== \"row\") return NodeFilter.FILTER_REJECT;\n      for (var target of visibleNodes) {\n        if (node.contains(target)) return NodeFilter.FILTER_SKIP;\n      }\n      return NodeFilter.FILTER_ACCEPT;\n    };\n    var walker = document.createTreeWalker(root, NodeFilter.SHOW_ELEMENT, {\n      acceptNode: acceptNode\n    });\n    var acceptRoot = acceptNode(root);\n    if (acceptRoot === NodeFilter.FILTER_ACCEPT) hide(root);\n    if (acceptRoot !== NodeFilter.FILTER_REJECT) {\n      var node = walker.nextNode();\n      while (node != null) {\n        hide(node);\n        node = walker.nextNode();\n      }\n    }\n  };\n  var hide = function hide(node) {\n    var _refCountMap_get;\n    var refCount = (_refCountMap_get = $5e3802645cc19319$var$refCountMap.get(node)) !== null && _refCountMap_get !== void 0 ? _refCountMap_get : 0;\n    if (node.getAttribute(\"aria-hidden\") === \"true\" && refCount === 0) return;\n    if (refCount === 0) node.setAttribute(\"aria-hidden\", \"true\");\n    hiddenNodes.add(node);\n    $5e3802645cc19319$var$refCountMap.set(node, refCount + 1);\n  };\n  if ($5e3802645cc19319$var$observerStack.length) $5e3802645cc19319$var$observerStack[$5e3802645cc19319$var$observerStack.length - 1].disconnect();\n  walk(root);\n  var observer = new MutationObserver(function (changes) {\n    var _loop = function _loop(change) {\n      if (change.type !== \"childList\" || change.addedNodes.length === 0) return 1;\n      if (![].concat(_toConsumableArray(visibleNodes), _toConsumableArray(hiddenNodes)).some(function (node) {\n        return node.contains(change.target);\n      })) {\n        for (var node of change.removedNodes) if (node instanceof Element) {\n          visibleNodes.delete(node);\n          hiddenNodes.delete(node);\n        }\n        for (var _node of change.addedNodes) {\n          if ((_node instanceof HTMLElement || _node instanceof SVGElement) && (_node.dataset.liveAnnouncer === \"true\" || _node.dataset.reactAriaTopLayer === \"true\")) visibleNodes.add(_node);else if (_node instanceof Element) walk(_node);\n        }\n      }\n    };\n    for (var change of changes) {\n      if (_loop(change)) continue;\n    }\n  });\n  observer.observe(root, {\n    childList: true,\n    subtree: true\n  });\n  var observerWrapper = {\n    observe: function observe() {\n      observer.observe(root, {\n        childList: true,\n        subtree: true\n      });\n    },\n    disconnect: function disconnect() {\n      observer.disconnect();\n    }\n  };\n  $5e3802645cc19319$var$observerStack.push(observerWrapper);\n  return function () {\n    observer.disconnect();\n    for (var node of hiddenNodes) {\n      var count = $5e3802645cc19319$var$refCountMap.get(node);\n      if (count === 1) {\n        node.removeAttribute(\"aria-hidden\");\n        $5e3802645cc19319$var$refCountMap.delete(node);\n      } else $5e3802645cc19319$var$refCountMap.set(node, count - 1);\n    }\n    if (observerWrapper === $5e3802645cc19319$var$observerStack[$5e3802645cc19319$var$observerStack.length - 1]) {\n      $5e3802645cc19319$var$observerStack.pop();\n      if ($5e3802645cc19319$var$observerStack.length) $5e3802645cc19319$var$observerStack[$5e3802645cc19319$var$observerStack.length - 1].observe();\n    } else $5e3802645cc19319$var$observerStack.splice($5e3802645cc19319$var$observerStack.indexOf(observerWrapper), 1);\n  };\n}\nexport { $5e3802645cc19319$export$1c3ebcada18427bf as ariaHideOutside };","map":{"version":3,"names":["$5e3802645cc19319$var$refCountMap","WeakMap","$5e3802645cc19319$var$observerStack","$5e3802645cc19319$export$1c3ebcada18427bf","targets","root","arguments","length","undefined","document","body","visibleNodes","Set","hiddenNodes","walk","element","querySelectorAll","add","acceptNode","node","has","parentElement","getAttribute","NodeFilter","FILTER_REJECT","target","contains","FILTER_SKIP","FILTER_ACCEPT","walker","createTreeWalker","SHOW_ELEMENT","acceptRoot","hide","nextNode","_refCountMap_get","refCount","get","setAttribute","set","disconnect","observer","MutationObserver","changes","_loop","change","type","addedNodes","concat","_toConsumableArray","some","removedNodes","Element","delete","HTMLElement","SVGElement","dataset","liveAnnouncer","reactAriaTopLayer","observe","childList","subtree","observerWrapper","push","count","removeAttribute","pop","splice","indexOf","ariaHideOutside"],"sources":["D:/React Native/Expo+glustack/Music-App/node_modules/@react-aria/overlays/dist/ariaHideOutside.mjs"],"sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ // Keeps a ref count of all hidden elements. Added to when hiding an element, and\n// subtracted from when showing it again. When it reaches zero, aria-hidden is removed.\nlet $5e3802645cc19319$var$refCountMap = new WeakMap();\nlet $5e3802645cc19319$var$observerStack = [];\nfunction $5e3802645cc19319$export$1c3ebcada18427bf(targets, root = document.body) {\n    let visibleNodes = new Set(targets);\n    let hiddenNodes = new Set();\n    let walk = (root)=>{\n        // Keep live announcer and top layer elements (e.g. toasts) visible.\n        for (let element of root.querySelectorAll(\"[data-live-announcer], [data-react-aria-top-layer]\"))visibleNodes.add(element);\n        let acceptNode = (node)=>{\n            // Skip this node and its children if it is one of the target nodes, or a live announcer.\n            // Also skip children of already hidden nodes, as aria-hidden is recursive. An exception is\n            // made for elements with role=\"row\" since VoiceOver on iOS has issues hiding elements with role=\"row\".\n            // For that case we want to hide the cells inside as well (https://bugs.webkit.org/show_bug.cgi?id=222623).\n            if (visibleNodes.has(node) || hiddenNodes.has(node.parentElement) && node.parentElement.getAttribute(\"role\") !== \"row\") return NodeFilter.FILTER_REJECT;\n            // Skip this node but continue to children if one of the targets is inside the node.\n            for (let target of visibleNodes){\n                if (node.contains(target)) return NodeFilter.FILTER_SKIP;\n            }\n            return NodeFilter.FILTER_ACCEPT;\n        };\n        let walker = document.createTreeWalker(root, NodeFilter.SHOW_ELEMENT, {\n            acceptNode: acceptNode\n        });\n        // TreeWalker does not include the root.\n        let acceptRoot = acceptNode(root);\n        if (acceptRoot === NodeFilter.FILTER_ACCEPT) hide(root);\n        if (acceptRoot !== NodeFilter.FILTER_REJECT) {\n            let node = walker.nextNode();\n            while(node != null){\n                hide(node);\n                node = walker.nextNode();\n            }\n        }\n    };\n    let hide = (node)=>{\n        var _refCountMap_get;\n        let refCount = (_refCountMap_get = $5e3802645cc19319$var$refCountMap.get(node)) !== null && _refCountMap_get !== void 0 ? _refCountMap_get : 0;\n        // If already aria-hidden, and the ref count is zero, then this element\n        // was already hidden and there's nothing for us to do.\n        if (node.getAttribute(\"aria-hidden\") === \"true\" && refCount === 0) return;\n        if (refCount === 0) node.setAttribute(\"aria-hidden\", \"true\");\n        hiddenNodes.add(node);\n        $5e3802645cc19319$var$refCountMap.set(node, refCount + 1);\n    };\n    // If there is already a MutationObserver listening from a previous call,\n    // disconnect it so the new on takes over.\n    if ($5e3802645cc19319$var$observerStack.length) $5e3802645cc19319$var$observerStack[$5e3802645cc19319$var$observerStack.length - 1].disconnect();\n    walk(root);\n    let observer = new MutationObserver((changes)=>{\n        for (let change of changes){\n            if (change.type !== \"childList\" || change.addedNodes.length === 0) continue;\n            // If the parent element of the added nodes is not within one of the targets,\n            // and not already inside a hidden node, hide all of the new children.\n            if (![\n                ...visibleNodes,\n                ...hiddenNodes\n            ].some((node)=>node.contains(change.target))) {\n                for (let node of change.removedNodes)if (node instanceof Element) {\n                    visibleNodes.delete(node);\n                    hiddenNodes.delete(node);\n                }\n                for (let node of change.addedNodes){\n                    if ((node instanceof HTMLElement || node instanceof SVGElement) && (node.dataset.liveAnnouncer === \"true\" || node.dataset.reactAriaTopLayer === \"true\")) visibleNodes.add(node);\n                    else if (node instanceof Element) walk(node);\n                }\n            }\n        }\n    });\n    observer.observe(root, {\n        childList: true,\n        subtree: true\n    });\n    let observerWrapper = {\n        observe () {\n            observer.observe(root, {\n                childList: true,\n                subtree: true\n            });\n        },\n        disconnect () {\n            observer.disconnect();\n        }\n    };\n    $5e3802645cc19319$var$observerStack.push(observerWrapper);\n    return ()=>{\n        observer.disconnect();\n        for (let node of hiddenNodes){\n            let count = $5e3802645cc19319$var$refCountMap.get(node);\n            if (count === 1) {\n                node.removeAttribute(\"aria-hidden\");\n                $5e3802645cc19319$var$refCountMap.delete(node);\n            } else $5e3802645cc19319$var$refCountMap.set(node, count - 1);\n        }\n        // Remove this observer from the stack, and start the previous one.\n        if (observerWrapper === $5e3802645cc19319$var$observerStack[$5e3802645cc19319$var$observerStack.length - 1]) {\n            $5e3802645cc19319$var$observerStack.pop();\n            if ($5e3802645cc19319$var$observerStack.length) $5e3802645cc19319$var$observerStack[$5e3802645cc19319$var$observerStack.length - 1].observe();\n        } else $5e3802645cc19319$var$observerStack.splice($5e3802645cc19319$var$observerStack.indexOf(observerWrapper), 1);\n    };\n}\n\n\nexport {$5e3802645cc19319$export$1c3ebcada18427bf as ariaHideOutside};\n//# sourceMappingURL=ariaHideOutside.mjs.map\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}